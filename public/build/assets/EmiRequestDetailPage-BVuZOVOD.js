import{q as K,s as S,v as te,x as We,y as ke,z as Ye,A as It,w as O,B as le,C as Bt,D as Me,E as qe,a,h as t,F as ne,G as Et,H as X,n as ue,I as Ge,r as C,J as M,K as Ce,L as Rt,M as Le,N as me,O as Pt,P as Se,Q as Ft,d as N,R as $e,S as Xe,e as $,T as E,b as s,l as L,m as g,p as w,U as z,j as de,W as se,V as U,f as j,g as R,X as He,Y as Ke,Z as Je,_ as Dt,o as Te,$ as Qe,a0 as Ie,a1 as ve,a2 as Ze,a3 as et,c as fe,t as p,a4 as Y,a5 as At,u as q,k as J,a6 as Ut,a7 as Nt,a8 as tt,a9 as Mt,aa as qt,ab as Lt,ac as Be,ad as lt,ae as zt,af as jt,ag as Ot,ah as ze,ai as Wt,aj as Yt,ak as oe,al as Gt,am as at,an as nt,ao as Xt,ap as ot,aq as Ht,ar as Kt,as as Jt,at as Qt,au as Zt,av as el,aw as tl,ax as ll,ay as al,az as nl,aA as ol,aB as sl,aC as il,aD as ul,i as dl,aE as rl,aF as cl}from"./main-H_HF8Td0.js";import{g as st,b as it,c as ml,d as fl,f as W,a as vl}from"./formatters-D3PNL7d2.js";import{V as Ee,a as Re,b as bl,c as ie,d as je,m as yl}from"./VDataTable-Bqt7z0xR.js";function gl(){function e(l){return[...l.dataTransfer?.items??[]].filter(m=>m.kind==="file").map(m=>m.webkitGetAsEntry()).filter(Boolean).length>0||[...l.dataTransfer?.files??[]].length>0}async function d(l){const i=[],m=[...l.dataTransfer?.items??[]].filter(c=>c.kind==="file").map(c=>c.webkitGetAsEntry()).filter(Boolean);if(m.length)for(const c of m){const v=await ut(c,dt(".",c));i.push(...v.map(n=>n.file))}else i.push(...l.dataTransfer?.files??[]);return i}return{handleDrop:d,hasFilesOrFolders:e}}function ut(e){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((l,i)=>{e.isFile?e.file(c=>l([{file:c,path:d}]),i):e.isDirectory&&e.createReader().readEntries(async c=>{const v=[];for(const n of c)v.push(...await ut(n,dt(d,n)));l(v)})})}function dt(e,d){return d.isDirectory?`${e}/${d.name}`:e}const pl=K({filterByType:String},"file-accept");function _l(e){const d=S(()=>e.filterByType?hl(e.filterByType):null);function l(i){if(d.value){const m=i.filter(d.value);return{accepted:m,rejected:i.filter(c=>!m.includes(c))}}return{accepted:i,rejected:[]}}return{filterAccepted:l}}function hl(e){const d=e.split(",").map(c=>c.trim().toLowerCase()),l=d.filter(c=>c.startsWith(".")),i=d.filter(c=>c.endsWith("/*")),m=d.filter(c=>!l.includes(c)&&!i.includes(c));return c=>{const v=c.name.split(".").at(-1)?.toLowerCase()??"",n=c.type.split("/").at(0)?.toLowerCase()??"";return m.includes(c.type)||l.includes(`.${v}`)||i.includes(`${n}/*`)}}const Vl=K({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},truncateLength:{type:[Number,String],default:22},...Se(Ft({prependIcon:"$file"}),["direction"]),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Ye(e).every(d=>d!=null&&typeof d=="object")},...pl(),...Pt({clearable:!0})},"VFileInput"),he=te()({name:"VFileInput",inheritAttrs:!1,props:Vl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0,rejected:e=>!0},setup(e,d){let{attrs:l,emit:i,slots:m}=d;const{t:c}=We(),{filterAccepted:v}=_l(e),n=ke(e,"modelValue",e.modelValue,_=>Ye(_),_=>!e.multiple&&Array.isArray(_)?_[0]:_),{isFocused:h,focus:V,blur:x}=It(e),b=S(()=>typeof e.showSize!="boolean"?e.showSize:void 0),u=S(()=>(n.value??[]).reduce((_,P)=>{let{size:Q=0}=P;return _+Q},0)),r=S(()=>Le(u.value,b.value)),o=S(()=>(n.value??[]).map(_=>{const{name:P="",size:Q=0}=_,Z=be(P);return e.showSize?`${Z} (${Le(Q,b.value)})`:Z})),y=S(()=>{const _=n.value?.length??0;return e.showSize?c(e.counterSizeString,_,r.value):c(e.counterString,_)}),f=C(),D=C(),k=C(),A=M(()=>h.value||e.active),T=S(()=>["plain","underlined"].includes(e.variant)),I=me(!1),{handleDrop:B,hasFilesOrFolders:F}=gl();function H(){k.value!==document.activeElement&&k.value?.focus(),h.value||V()}function ae(_){k.value?.click()}function G(_){i("mousedown:control",_)}function re(_){k.value?.click(),i("click:control",_)}function Fe(_){_.stopPropagation(),H(),Ce(()=>{n.value=[],Rt(e["onClick:clear"],_)})}function be(_){if(_.length<Number(e.truncateLength))return _;const P=Math.floor((Number(e.truncateLength)-1)/2);return`${_.slice(0,P)}â€¦${_.slice(_.length-P)}`}function ye(_){_.preventDefault(),_.stopImmediatePropagation(),I.value=!0}function ce(_){_.preventDefault(),I.value=!1}async function yt(_){if(_.preventDefault(),_.stopImmediatePropagation(),I.value=!1,!k.value||!F(_))return;const P=await B(_);De(P)}function gt(_){if(!(!_.target||_.repack))if(e.filterByType)De([..._.target.files]);else{const P=_.target;n.value=[...P.files??[]]}}function De(_){const P=new DataTransfer,{accepted:Q,rejected:Z}=v(_);Z.length&&i("rejected",Z);for(const pe of Q)P.items.add(pe);k.value.files=P.files,n.value=[...P.files];const ge=new Event("change",{bubbles:!0});ge.repack=!0,k.value.dispatchEvent(ge)}return O(n,_=>{(!Array.isArray(_)||!_.length)&&k.value&&(k.value.value="")}),le(()=>{const _=!!(m.counter||e.counter),P=!!(_||m.details),[Q,Z]=Bt(l),{modelValue:ge,...pe}=Me.filterProps(e),pt={...qe.filterProps(e),"onClick:clear":Fe},_t=l.webkitdirectory!==void 0&&l.webkitdirectory!==!1,ht=l.accept?String(l.accept):void 0,Vt=_t?void 0:e.filterByType??ht;return a(Me,X({ref:f,modelValue:e.multiple?n.value:n.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":I.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":T.value},e.class],style:e.style,"onClick:prepend":ae},Q,pe,{centerAffix:!T.value,focused:h.value}),{...m,default:_e=>{let{id:xt,isDisabled:Ae,isDirty:Ue,isReadonly:Ne,isValid:wt,hasDetails:kt}=_e;return a(qe,X({ref:D,prependIcon:e.prependIcon,onMousedown:G,onClick:re,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},pt,{id:xt.value,active:A.value||Ue.value,dirty:Ue.value||e.dirty,disabled:Ae.value,focused:h.value,details:kt.value,error:wt.value===!1,onDragover:ye,onDrop:yt}),{...m,default:Ct=>{let{props:{class:St,...$t},controlRef:Tt}=Ct;return t(ne,null,[t("input",X({ref:ee=>k.value=Tt.value=ee,type:"file",accept:Vt,readonly:Ne.value,disabled:Ae.value,multiple:e.multiple,name:e.name,onClick:ee=>{ee.stopPropagation(),Ne.value&&ee.preventDefault(),H()},onChange:gt,onDragleave:ce,onFocus:H,onBlur:x},$t,Z),null),t("div",{class:ue(St)},[!!n.value?.length&&!e.hideInput&&(m.selection?m.selection({fileNames:o.value,totalBytes:u.value,totalBytesReadable:r.value}):e.chips?o.value.map(ee=>a(Ee,{key:ee,size:"small",text:ee},null)):o.value.join(", "))])])}})},details:P?_e=>t(ne,null,[m.details?.(_e),_&&t(ne,null,[t("span",null,null),a(Et,{active:!!n.value?.length,value:y.value,disabled:e.disabled},m.counter)])]):void 0})}),Ge({},f,D,k)}}),xl=N({__name:"EmiNabilBankForm",props:{data:{}},setup(e){const d=e,l=C(),i=C(!1),m=$e(),c={required:b=>!!b||"Required"},v=["3","6","9","12","18","24"],n=Je({bank_code:"",cardholder_name:"",card_number:"",expiry_date:"",mobile:"",telephone:"",item_name:"",manufactured_by:"",model_name:"",serial_no:"",installment_amount:"",amount_in_words:"",tenure:"",signature_file:null,merchant_name_address:""}),h=C(null);let V=null;O(()=>n.signature_file,b=>{V&&(URL.revokeObjectURL(V),V=null),b instanceof File?(V=URL.createObjectURL(b),h.value=V):h.value=null}),O(()=>d.data,b=>{b&&(n.bank_code=b.bank_code??"",n.cardholder_name=b?.user?.name??"",n.card_number=b.card_number??"",n.expiry_date=b.card_expiry_date??"",n.mobile=b?.user?.mobile??"",n.telephone="",n.item_name=b.product?.name??"",n.manufactured_by="",n.model_name="",n.serial_no="",n.installment_amount=b.finance_amount??b.product_price??"",n.amount_in_words="",n.tenure=b.emi_mode?String(b.emi_mode):"")},{immediate:!0});async function x(){const{valid:b}=await l.value?.validate();if(!b)return;const u=String(d.data?.id??"");if(u){i.value=!0;try{const r=new FormData;Object.entries(n).forEach(([y,f])=>{if(!(f==null||f==="")){if(f instanceof File){r.append(y,f);return}r.append(y,String(f))}});const{data:o}=await st(u,r);console.log(o?.message??"Application generated"),console.log("Generated file path:",o?.path??""),m.onSaved?.(o),m.close()}finally{i.value=!1}}}return(b,u)=>{const r=Xe("maska");return $(),E(Ke,{ref_key:"formRef",ref:l,onSubmit:He(x,["prevent"])},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12"},{default:s(()=>[...u[14]||(u[14]=[t("div",{class:"text-subtitle-2 text-primary"},"Cardholder Details",-1)])]),_:1}),a(g,{cols:"12",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.cardholder_name,"onUpdate:modelValue":u[0]||(u[0]=o=>n.cardholder_name=o),label:"Name of the cardholder",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.card_number,"onUpdate:modelValue":u[1]||(u[1]=o=>n.card_number=o),label:"Nabil Credit Card Number",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"]),[[r,"#### #### #### ####"]])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.expiry_date,"onUpdate:modelValue":u[2]||(u[2]=o=>n.expiry_date=o),label:"Expiry Date (mm/yy)",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"]),[[r,"##/##"]])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.mobile,"onUpdate:modelValue":u[3]||(u[3]=o=>n.mobile=o),label:"Mobile Number",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"]),[[r,"(###) ###-####"]])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.telephone,"onUpdate:modelValue":u[4]||(u[4]=o=>n.telephone=o),label:"Telephone Number",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"]),[[r,"(###) ###-####"]])]),_:1}),a(g,{cols:"12"},{default:s(()=>[...u[15]||(u[15]=[t("div",{class:"text-subtitle-2 text-primary"},"Item Details",-1)])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.item_name,"onUpdate:modelValue":u[5]||(u[5]=o=>n.item_name=o),label:"Name of the Item",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.manufactured_by,"onUpdate:modelValue":u[6]||(u[6]=o=>n.manufactured_by=o),label:"Manufactured By",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.model_name,"onUpdate:modelValue":u[7]||(u[7]=o=>n.model_name=o),label:"Model Number/Name",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.serial_no,"onUpdate:modelValue":u[8]||(u[8]=o=>n.serial_no=o),label:"Serial Number",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(Re,{modelValue:n.tenure,"onUpdate:modelValue":u[9]||(u[9]=o=>n.tenure=o),items:v,label:"Installment tenure (Months)",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(he,{modelValue:n.signature_file,"onUpdate:modelValue":u[10]||(u[10]=o=>n.signature_file=o),"prepend-icon":"","prepend-inner-icon":"mdi-image",label:"Signature of Cardholder",density:"comfortable",variant:"outlined",accept:"image/*",disabled:i.value},null,8,["modelValue","disabled"]),h.value?($(),E(de,{key:0,src:h.value,"max-height":"140",class:"mt-2",contain:""},null,8,["src"])):se("",!0)]),_:1}),a(g,{cols:"12",md:"3",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.installment_amount,"onUpdate:modelValue":u[11]||(u[11]=o=>n.installment_amount=o),label:"Installment Amount",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"9",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.amount_in_words,"onUpdate:modelValue":u[12]||(u[12]=o=>n.amount_in_words=o),label:"Amount in Words",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12"},{default:s(()=>[...u[16]||(u[16]=[t("div",{class:"text-subtitle-2 text-primary"},"Merchant Details",-1)])]),_:1}),a(g,{cols:"12",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.merchant_name_address,"onUpdate:modelValue":u[13]||(u[13]=o=>n.merchant_name_address=o),label:"Name and address of the Merchant",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1})]),_:1}),a(L,null,{default:s(()=>[a(g,{cols:"12",class:"d-flex justify-space-around"},{default:s(()=>[a(U,{color:"primary",loading:i.value,type:"submit"},{default:s(()=>[a(j,null,{default:s(()=>[...u[17]||(u[17]=[R("mdi-creation",-1)])]),_:1}),u[18]||(u[18]=R(" Generate ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)}}}),wl=N({__name:"EmiSiddharthaBankForm",props:{data:{}},setup(e){const d=e,l=C(),i=C(!1),m=$e(),c={required:r=>!!r||"Required"},v=["3","6","9","12","18","24"],n=Je({bank_code:"",cardholder_name:"",address:"",mobile:"",email:"",card_number:"",expiry_date:"",item_name:"",manufactured_by:"",model_name:"",serial_no:"",emi_amount:"",amount_in_words:"",emi_tenure:"",merchant_name:"",requested_by:"",requested_phone:"",signature_file:null,stamp_file:null}),h=C(null),V=C(null);let x=null,b=null;O(()=>n.signature_file,r=>{x&&(URL.revokeObjectURL(x),x=null),r instanceof File?(x=URL.createObjectURL(r),h.value=x):h.value=null}),O(()=>n.stamp_file,r=>{b&&(URL.revokeObjectURL(b),b=null),r instanceof File?(b=URL.createObjectURL(r),V.value=b):V.value=null}),O(()=>d.data,r=>{r&&(n.bank_code=r.bank_code??"",n.cardholder_name=r?.user?.name??"",n.address=r.address??"",n.mobile=r?.user?.mobile??"",n.email=r.email??"",n.card_number=r.card_number??"",n.expiry_date=r.card_expiry_date??"",n.item_name=r.product?.name??"",n.manufactured_by="",n.model_name="",n.serial_no="",n.emi_amount=r.finance_amount??r.product_price??"",n.amount_in_words="",n.emi_tenure=r.emi_mode?String(r.emi_mode):"")},{immediate:!0});async function u(){const{valid:r}=await l.value?.validate();if(!r)return;const o=String(d.data?.id??"");if(o){i.value=!0;try{const y=new FormData;Object.entries(n).forEach(([D,k])=>{if(!(k==null||k==="")){if(k instanceof File){y.append(D,k);return}y.append(D,String(k))}}),console.log("Payload for generating application:",Object.fromEntries(y.entries()));const{data:f}=await st(o,y);console.log(f?.message??"Application generated"),console.log("Generated file path:",f?.path??""),m.onSaved?.(f),m.close()}finally{i.value=!1}}}return(r,o)=>{const y=Xe("maska");return $(),E(Ke,{ref_key:"formRef",ref:l,onSubmit:He(u,["prevent"])},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12"},{default:s(()=>[...o[18]||(o[18]=[t("div",{class:"text-subtitle-2 text-primary"},"Cardholder Details",-1)])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.cardholder_name,"onUpdate:modelValue":o[0]||(o[0]=f=>n.cardholder_name=f),label:"Name of the cardholder",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.address,"onUpdate:modelValue":o[1]||(o[1]=f=>n.address=f),label:"Address",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.mobile,"onUpdate:modelValue":o[2]||(o[2]=f=>n.mobile=f),label:"Mobile No.",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"]),[[y,"(###) ###-####"]])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.email,"onUpdate:modelValue":o[3]||(o[3]=f=>n.email=f),label:"Email",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.card_number,"onUpdate:modelValue":o[4]||(o[4]=f=>n.card_number=f),label:"SBL Credit Card No.",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"]),[[y,"#### #### #### ####"]])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.expiry_date,"onUpdate:modelValue":o[5]||(o[5]=f=>n.expiry_date=f),label:"Expiry Date (mm/yy)",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"]),[[y,"##/##"]])]),_:1}),a(g,{cols:"12"},{default:s(()=>[...o[19]||(o[19]=[t("div",{class:"text-subtitle-2 text-primary"},"Item Details",-1)])]),_:1}),a(g,{cols:"12",md:"12",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.item_name,"onUpdate:modelValue":o[6]||(o[6]=f=>n.item_name=f),label:"Name of the item",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"4",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.manufactured_by,"onUpdate:modelValue":o[7]||(o[7]=f=>n.manufactured_by=f),label:"Manufactured by",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"4",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.model_name,"onUpdate:modelValue":o[8]||(o[8]=f=>n.model_name=f),label:"Model No./Name",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"4",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.serial_no,"onUpdate:modelValue":o[9]||(o[9]=f=>n.serial_no=f),label:"Serial No.",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"4",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.emi_amount,"onUpdate:modelValue":o[10]||(o[10]=f=>n.emi_amount=f),label:"EMI Loan amount (NPR)",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12",md:"8",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.amount_in_words,"onUpdate:modelValue":o[11]||(o[11]=f=>n.amount_in_words=f),label:"Amount in words",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"4",class:"py-1"},{default:s(()=>[a(Re,{modelValue:n.emi_tenure,"onUpdate:modelValue":o[12]||(o[12]=f=>n.emi_tenure=f),items:v,label:"EMI tenure (months)",density:"comfortable",variant:"outlined",rules:[c.required],disabled:i.value},null,8,["modelValue","rules","disabled"])]),_:1}),a(g,{cols:"12"},{default:s(()=>[...o[20]||(o[20]=[t("div",{class:"text-subtitle-2 text-primary"},"Merchant Details",-1)])]),_:1}),a(g,{cols:"12",md:"12",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.merchant_name,"onUpdate:modelValue":o[13]||(o[13]=f=>n.merchant_name=f),label:"Name of merchant",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(w,{modelValue:n.requested_by,"onUpdate:modelValue":o[14]||(o[14]=f=>n.requested_by=f),label:"Requested by",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[z(a(w,{modelValue:n.requested_phone,"onUpdate:modelValue":o[15]||(o[15]=f=>n.requested_phone=f),label:"Phone no.",density:"comfortable",variant:"outlined",disabled:i.value},null,8,["modelValue","disabled"]),[[y,"########## / ##########"]])]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(he,{modelValue:n.signature_file,"onUpdate:modelValue":o[16]||(o[16]=f=>n.signature_file=f),"prepend-inner-icon":"mdi-image","prepend-icon":"",label:"Signature",density:"comfortable",variant:"outlined",accept:"image/*",disabled:i.value},null,8,["modelValue","disabled"]),h.value?($(),E(de,{key:0,src:h.value,"max-height":"140",class:"mt-2",contain:""},null,8,["src"])):se("",!0)]),_:1}),a(g,{cols:"12",md:"6",class:"py-1"},{default:s(()=>[a(he,{modelValue:n.stamp_file,"onUpdate:modelValue":o[17]||(o[17]=f=>n.stamp_file=f),"prepend-inner-icon":"mdi-image","prepend-icon":"",label:"Stamp",density:"comfortable",variant:"outlined",accept:"image/*",disabled:i.value},null,8,["modelValue","disabled"]),V.value?($(),E(de,{key:0,src:V.value,"max-height":"140",class:"mt-2",contain:""},null,8,["src"])):se("",!0)]),_:1})]),_:1}),a(L,null,{default:s(()=>[a(g,{cols:"12",class:"d-flex justify-space-around"},{default:s(()=>[a(U,{color:"primary",loading:i.value,type:"submit"},{default:s(()=>[a(j,null,{default:s(()=>[...o[21]||(o[21]=[R("mdi-creation",-1)])]),_:1}),o[22]||(o[22]=R(" Generate ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)}}});function kl(e){return Dt.get("/admin/emi-banks",{params:e})}const Cl={class:"d-flex flex-column"},Sl={style:{"max-width":"400px"}},$l={class:"mt-4"},Tl={key:1,class:"text-center text-medium-emphasis py-6"},Il={class:"text-error font-weight-semibold"},Bl=N({__name:"EmiRequestForm",props:{id:{},data:{default:null}},setup(e){const d=e,l=C(d.data),i=S(()=>l.value?{...l.value,bank_code:v.value??l.value.bank_code??null}:l.value),m=C([]),c=C(!1),v=C(null),n=S(()=>{switch(v.value?.toLocaleLowerCase()){case"sbl":return wl;case"nabil":return xl;default:return null}}),h=S(()=>v.value?m.value.find(r=>r.code===v.value)?.name??v.value:""),V=S(()=>v.value?'The form for "':"Please choose a bank above to generate the request form."),x=S(()=>v.value?'" is not available yet.':"");async function b(){c.value=!0;try{const{data:r}=await kl();m.value=r?.data??[]}finally{c.value=!1}}async function u(){if(!(!d.id||l.value)){const{data:r}=await it(String(d.id));l.value=r?.data??r??null}}return O(()=>d.data,r=>{r&&(l.value=r)}),Te(()=>{b(),u()}),(r,o)=>($(),E(Y,{flat:""},{default:s(()=>[a(Qe,{class:"d-flex justify-space-between align-center py-1"},{default:s(()=>[o[3]||(o[3]=t("span",{class:"font-semibold"},"Bank Request Form",-1)),a(Ie),a(U,{icon:"mdi-close",size:"small",color:"error",class:"cursor-pointer",variant:"text","aria-label":"Close",onClick:o[0]||(o[0]=y=>r.$emit("close"))},{default:s(()=>[a(j,null,{default:s(()=>[...o[2]||(o[2]=[R("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),a(ve),a(Ze,null,{default:s(()=>[t("div",Cl,[o[4]||(o[4]=t("div",{class:"text-subtitle-2 text-primary py-1"},"Preferred Bank",-1)),o[5]||(o[5]=t("div",{class:"text-caption text-medium-emphasis mb-2"}," Select the bank where you want to generate the EMI request. ",-1)),t("div",Sl,[a(Re,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=y=>v.value=y),items:m.value,"item-title":"name","item-value":"code",label:"Select Bank",placeholder:"Select a bank","persistent-placeholder":"",variant:"outlined",density:"comfortable",loading:c.value},null,8,["modelValue","items","loading"])])]),t("div",$l,[n.value?($(),E(et(n.value),{key:0,data:i.value??void 0},null,8,["data"])):($(),fe("div",Tl,[t("span",null,p(V.value),1),t("span",Il,p(h.value),1),t("span",null,p(x.value),1)]))])]),_:1})]),_:1}))}}),El={class:"py-2"},Rl=N({__name:"EmiApprovalForm",props:{id:{},data:{default:null},application:{default:null}},emits:["close","saved"],setup(e,{emit:d}){const l=e,i=d,m=C(""),c=C(""),v=C(""),n=C(""),h=C(""),V=C(!1),x=S(()=>l.data??l.application??null);function b(o){if(!o)return"";const f=(o.split("?")[0]??"").split("/");return f[f.length-1]??""}function u(){const o=x.value??{},y=String(o.bank??o.bank_name??"Bank");m.value=`EMI Application - ${y}`,c.value=String(o.email??o.user?.email??""),v.value="",n.value="",h.value=b(String(o.path??""))}async function r(){const o=x.value??{},y={request_id:l.id??null,subject:m.value,to:c.value,cc:v.value,bcc:n.value,file_name:h.value,application_id:o.id??null};if(y.application_id){V.value=!0;try{const{data:f}=await ml(y.application_id,y);i("saved",f??y),i("close")}catch(f){console.error("Failed to approve application:",f)}finally{V.value=!1}}}return O(x,u,{immediate:!0}),(o,y)=>($(),E(Y,{flat:""},{default:s(()=>[a(Qe,{class:"d-flex justify-space-between align-center py-1"},{default:s(()=>[y[7]||(y[7]=t("span",{class:"font-semibold"},"Bank Request Form",-1)),a(Ie),a(U,{icon:"mdi-close",size:"small",color:"error",class:"cursor-pointer",variant:"text","aria-label":"Close",onClick:y[0]||(y[0]=f=>o.$emit("close"))},{default:s(()=>[a(j,null,{default:s(()=>[...y[6]||(y[6]=[R("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),a(ve),a(Ze,null,{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12"},{default:s(()=>[a(w,{modelValue:m.value,"onUpdate:modelValue":y[1]||(y[1]=f=>m.value=f),label:"Subject",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12",md:"12"},{default:s(()=>[a(w,{modelValue:c.value,"onUpdate:modelValue":y[2]||(y[2]=f=>c.value=f),label:"To",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12",md:"12"},{default:s(()=>[a(w,{modelValue:v.value,"onUpdate:modelValue":y[3]||(y[3]=f=>v.value=f),label:"CC",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12",md:"12"},{default:s(()=>[a(w,{modelValue:n.value,"onUpdate:modelValue":y[4]||(y[4]=f=>n.value=f),label:"BCC",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12"},{default:s(()=>[a(w,{modelValue:h.value,"onUpdate:modelValue":y[5]||(y[5]=f=>h.value=f),label:"Attachment File Name",variant:"outlined",density:"comfortable",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),a(At,{class:"d-flex justify-space-around"},{default:s(()=>[t("div",El,[a(U,{color:"primary",loading:V.value,variant:"tonal","prepend-icon":"mdi-check-decagram-outline",onClick:r},{default:s(()=>[...y[8]||(y[8]=[R(" Approve & Send Email ",-1)])]),_:1},8,["loading"])])]),_:1})]),_:1}))}}),Pl={class:"info-card"},Fl={class:"d-flex align-center justify-space-between mb-2"},Dl={class:""},Al={class:"d-flex justify-end gap-2"},Ul=N({__name:"EmiBankApplicationList",props:{data:{}},setup(e){const d=[{title:"Bank",key:"bank",align:"start",width:"200"},{title:"Status",key:"status",align:"start",width:"100"},{title:"Date",key:"date",align:"start",width:"150"},{title:"Action",key:"action",align:"end",sortable:!1,width:"160"}],l=e,i=$e(),m=C(!1),c=C([]),v=S(()=>c.value.map(u=>({id:u.id,bank:u.bank_name??"--",status:u.status??"--",date:u.date??"--",path:u.file_url??u.file_path??""})));async function n(){const u=String(l.data?.id??"");if(u){m.value=!0;try{const{data:r}=await fl(u);c.value=r?.data??[]}finally{m.value=!1}}}function h(){i.open(Bl,{id:l.data?.id},{size:"lg",onSaved:()=>{n()}})}function V(u){u&&window.open(u,"_blank")}function x(u){console.log("Approving application:",{item:u}),i.open(Rl,{id:l.data?.id,data:{...u,email:l.data?.email??l.data?.user?.email??""}},{title:`Approve - ${u.bank}`,size:"lg",onSaved:()=>{n()}})}function b(u){if(!u)return;const r=document.createElement("a");r.href=u,r.download="",r.click()}return O(()=>l.data?.id,()=>{n()},{immediate:!0}),Te(()=>{n()}),(u,r)=>($(),E(Y,{elevation:"0",class:"pa-4"},{default:s(()=>[t("div",Pl,[t("div",Fl,[r[3]||(r[3]=t("div",null,[t("h4",null,"Generated Requests")],-1)),l.data?.status.toLowerCase()!=="approved"?($(),E(U,{key:0,color:"primary",onClick:r[0]||(r[0]=o=>h())},{default:s(()=>[a(j,{left:""},{default:s(()=>[...r[1]||(r[1]=[R("mdi-file-plus",-1)])]),_:1}),r[2]||(r[2]=R(" Generate Now ",-1))]),_:1})):se("",!0)]),a(ve,{class:"my-2"}),a(bl,{headers:d,items:v.value,density:"comfortable",class:"elevation-0",loading:m.value},{"item.status":s(({item:o})=>[t("div",Dl,[a(Ee,{class:"text-capitalize",color:o.status.toLowerCase()==="approved"?"success":"warning","text-color":"white",size:"small"},{default:s(()=>[R(p(o.status??"--"),1)]),_:2},1032,["color"])])]),"item.action":s(({item:o})=>[t("div",Al,[a(U,{variant:"tonal",color:"primary",class:"mr-4",size:"x-small",icon:"",disabled:!o.path,onClick:y=>V(o.path)},{default:s(()=>[a(j,null,{default:s(()=>[...r[4]||(r[4]=[R("mdi-eye",-1)])]),_:1})]),_:1},8,["disabled","onClick"]),a(U,{variant:"tonal",color:"primary",class:"mr-4",size:"x-small",icon:"",disabled:!o.path,onClick:y=>x(o)},{default:s(()=>[a(j,null,{default:s(()=>[...r[5]||(r[5]=[R("mdi-email-arrow-right",-1)])]),_:1})]),_:1},8,["disabled","onClick"]),a(U,{variant:"tonal",color:"primary",size:"x-small",icon:"",disabled:!o.path,onClick:y=>b(o.path)},{default:s(()=>[a(j,null,{default:s(()=>[...r[6]||(r[6]=[R("mdi-download",-1)])]),_:1})]),_:1},8,["disabled","onClick"])])]),_:1},8,["items","loading"])])]),_:1}))}}),Nl={class:"emi-info-grid"},Ml={class:"pt-4"},ql={class:"text-right"},Ll={class:"text-right"},zl={class:"text-right"},jl={class:"text-right"},Ol={class:"text-right"},Wl={class:"text-right"},Yl={class:"text-right"},Gl={key:0},Xl={class:"text-right"},Hl={key:1},Kl={class:"text-right"},Jl={class:"text-right"},Ql={class:"pt-4"},Zl=N({__name:"TabEmiInfo",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{class:"pt-0",fluid:""},{default:s(()=>[a(Y,null,{default:s(()=>[t("div",null,[t("div",Nl,[t("div",Ml,[a(ie,null,{default:s(()=>[t("tbody",null,[t("tr",null,[l[0]||(l[0]=t("td",null,"Request Code",-1)),t("td",ql,p(e.data.application_code),1)]),l[10]||(l[10]=t("tr",null,[t("td",null,"EMI Type"),t("td",{class:"text-right"},"n/a")],-1)),t("tr",null,[l[1]||(l[1]=t("td",null,"User",-1)),t("td",Ll,p(e.data.user?.name||"N/A"),1)]),t("tr",null,[l[2]||(l[2]=t("td",null,"Product",-1)),t("td",zl,p(e.data.product?.name||"N/A"),1)]),t("tr",null,[l[3]||(l[3]=t("td",null,"Price",-1)),t("td",jl,p(q(W)(e.data.product_price)),1)]),t("tr",null,[l[4]||(l[4]=t("td",null,"Service Charge",-1)),t("td",Ol,p(q(W)(e.data.service_charge)),1)]),t("tr",null,[l[5]||(l[5]=t("td",null,"EMI Amount",-1)),t("td",Wl,p(q(W)(e.data.emi_per_month)),1)]),t("tr",null,[l[6]||(l[6]=t("td",null,"EMI Mode",-1)),t("td",Yl,p(e.data.emi_mode)+" Months",1)]),e.data.emi_finance_id?($(),fe("tr",Gl,[l[7]||(l[7]=t("td",null,"Finance From",-1)),t("td",Xl,p(e.data.finance.name),1)])):se("",!0),e.data.bank?($(),fe("tr",Hl,[l[8]||(l[8]=t("td",null,"Bank Name",-1)),t("td",Kl,p(e.data?.bankDetail?.name),1)])):se("",!0),t("tr",null,[l[9]||(l[9]=t("td",null,"Applied On",-1)),t("td",Jl,p(q(vl)(e.data.created_at)),1)])])]),_:1})]),l[11]||(l[11]=t("div",{class:"emi-info-divider"},null,-1)),t("div",Ql,[a(Ul,{data:e.data},null,8,["data"])])])])]),_:1})]),_:1}))}}),Oe=Ut(Zl,[["__scopeId","data-v-af2ef670"]]),ea={class:"border rounded"},ta={class:"text-right"},la={class:"text-right"},aa={class:"text-right"},na={class:"text-right"},oa={class:"text-right"},sa={class:"text-right"},ia=N({__name:"TabEmploymentInfo",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{fluid:""},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12",lg:"6","offset-lg":"3"},{default:s(()=>[t("div",ea,[a(ie,null,{default:s(()=>[t("tbody",null,[t("tr",null,[l[0]||(l[0]=t("td",null,"Occupation",-1)),t("td",ta,p(e.data.occupation),1)]),t("tr",null,[l[1]||(l[1]=t("td",null,"Occupation Type",-1)),t("td",la,p(e.data.occupation_type),1)]),t("tr",null,[l[2]||(l[2]=t("td",null,"Length of Employment",-1)),t("td",aa,p(e.data.length_of_employment)+" yrs",1)]),t("tr",null,[l[3]||(l[3]=t("td",null,"Monthly Income",-1)),t("td",na,"Rs. "+p(q(W)(e.data.monthly_income)),1)]),t("tr",null,[l[4]||(l[4]=t("td",null,"Monthly Expenses",-1)),t("td",oa,"Rs. "+p(q(W)(e.data.monthly_expenses)),1)]),t("tr",null,[l[5]||(l[5]=t("td",null,"No. of Dependents",-1)),t("td",sa,p(e.data.no_of_dependents),1)])])]),_:1})])]),_:1})]),_:1})]),_:1}))}}),ua={class:"text-right"},da={class:"text-right"},ra={class:"text-right"},ca={class:"text-right"},ma={class:"text-right"},fa={class:"text-right"},va={class:"text-right"},ba=N({__name:"TabCardInfo",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{fluid:""},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12",lg:"6","offset-lg":"3"},{default:s(()=>[a(Y,{class:"pa-4"},{default:s(()=>[a(ie,null,{default:s(()=>[l[7]||(l[7]=t("thead",null,[t("tr",null,[t("th",null,"Field"),t("th",{class:"text-right"},"Value")])],-1)),t("tbody",null,[t("tr",null,[l[0]||(l[0]=t("td",null,"Credit Card",-1)),t("td",ua,p(e.data.credit_card),1)]),t("tr",null,[l[1]||(l[1]=t("td",null,"Card Holder Name",-1)),t("td",da,p(e.data.card_holder_name),1)]),t("tr",null,[l[2]||(l[2]=t("td",null,"Card Number",-1)),t("td",ra,p(e.data.card_number),1)]),t("tr",null,[l[3]||(l[3]=t("td",null,"Card Limit",-1)),t("td",ca,p(q(W)(e.data.card_limit)),1)]),t("tr",null,[l[4]||(l[4]=t("td",null,"Card Expiry",-1)),t("td",ma,p(e.data.card_expiry_date),1)]),t("tr",null,[l[5]||(l[5]=t("td",null,"Bank",-1)),t("td",fa,p(e.data.bankDetail?.name),1)]),t("tr",null,[l[6]||(l[6]=t("td",null,"Account Number",-1)),t("td",va,p(e.data.account_number),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),ya={class:"text-right"},ga={class:"text-right"},pa={class:"text-right"},_a={class:"text-right"},ha={class:"text-right"},Va={class:"text-right"},xa=N({__name:"TabGuarantorInfo",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{fluid:""},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12",lg:"6","offset-lg":"3"},{default:s(()=>[a(Y,{class:"pa-4"},{default:s(()=>[a(ie,null,{default:s(()=>[l[6]||(l[6]=t("thead",null,[t("tr",null,[t("th",null,"Field"),t("th",{class:"text-right"},"Value")])],-1)),t("tbody",null,[t("tr",null,[l[0]||(l[0]=t("td",null,"Name",-1)),t("td",ya,p(e.data.guarantor_name||"N/A"),1)]),t("tr",null,[l[1]||(l[1]=t("td",null,"Email",-1)),t("td",ga,p(e.data.guarantor_email),1)]),t("tr",null,[l[2]||(l[2]=t("td",null,"Phone",-1)),t("td",pa,p(e.data.guarantor_mobile),1)]),t("tr",null,[l[3]||(l[3]=t("td",null,"Address",-1)),t("td",_a,p(e.data.guarantor_address),1)]),t("tr",null,[l[4]||(l[4]=t("td",null,"Father's Name",-1)),t("td",ha,p(e.data.guarantor_father),1)]),t("tr",null,[l[5]||(l[5]=t("td",null,"Grandfather's Name",-1)),t("td",Va,p(e.data.guarantor_grand_father),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),wa={class:"text-right"},ka={class:"text-right"},Ca={class:"text-right"},Sa={class:"text-right"},$a={class:"text-right"},Ta=N({__name:"TabVehicleInfo",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{fluid:""},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12",lg:"6","offset-lg":"3"},{default:s(()=>[a(Y,{class:"pa-4"},{default:s(()=>[a(ie,null,{default:s(()=>[l[5]||(l[5]=t("thead",null,[t("tr",null,[t("th",null,"Field"),t("th",{class:"text-right"},"Value")])],-1)),t("tbody",null,[t("tr",null,[l[0]||(l[0]=t("td",null,"Vehicle",-1)),t("td",wa,p(e.data.vehicle),1)]),t("tr",null,[l[1]||(l[1]=t("td",null,"Down Payment",-1)),t("td",ka,p(q(W)(e.data.down_payment)),1)]),t("tr",null,[l[2]||(l[2]=t("td",null,"Finance Amount",-1)),t("td",Ca,p(q(W)(e.data.finance_amount)),1)]),t("tr",null,[l[3]||(l[3]=t("td",null,"Finance Type",-1)),t("td",Sa,p(e.data.emi_type),1)]),t("tr",null,[l[4]||(l[4]=t("td",null,"Residental Status",-1)),t("td",$a,p(e.data.residental_status),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ia=N({__name:"TabDocuments",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{fluid:""},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12",lg:"6","offset-lg":"3"},{default:s(()=>[...l[0]||(l[0]=[t("div",null,[t("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis, quia.")],-1)])]),_:1})]),_:1})]),_:1}))}}),Ba={class:"text-right"},Ea={class:"text-right"},Ra={class:"text-right"},Pa={class:"text-right"},Fa={class:"text-right"},Da={class:"text-right"},Aa=N({__name:"TabMerchant",props:{data:{}},setup(e){return(d,l)=>($(),E(J,{fluid:""},{default:s(()=>[a(L,null,{default:s(()=>[a(g,{cols:"12",lg:"6","offset-lg":"3"},{default:s(()=>[a(Y,{class:"pa-4"},{default:s(()=>[a(ie,null,{default:s(()=>[l[6]||(l[6]=t("thead",null,[t("tr",null,[t("th",null,"Field"),t("th",{class:"text-right"},"Value")])],-1)),t("tbody",null,[t("tr",null,[l[0]||(l[0]=t("td",null,"Name",-1)),t("td",Ba,p(e.data.name),1)]),t("tr",null,[l[1]||(l[1]=t("td",null,"Email",-1)),t("td",Ea,p(q(W)(e.data.email)),1)]),t("tr",null,[l[2]||(l[2]=t("td",null,"Phone",-1)),t("td",Ra,p(q(W)(e.data.phone)),1)]),t("tr",null,[l[3]||(l[3]=t("td",null,"Stamp",-1)),t("td",Pa,p(e.data.stamp),1)]),t("tr",null,[l[4]||(l[4]=t("td",null,"Logo",-1)),t("td",Fa,p(e.data.logo),1)]),t("tr",null,[l[5]||(l[5]=t("td",null,"Signature",-1)),t("td",Da,p(e.data.signature),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Pe=Symbol.for("vuetify:v-tabs"),rt=K({fixed:Boolean,sliderColor:String,sliderTransition:String,sliderTransitionDuration:[String,Number],hideSlider:Boolean,inset:Boolean,direction:{type:String,default:"horizontal"},...Se(Lt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ct=te()({name:"VTab",props:rt(),setup(e,d){let{slots:l,attrs:i}=d;const{textColorClasses:m,textColorStyles:c}=Nt(()=>e.sliderColor),{backgroundColorClasses:v,backgroundColorStyles:n}=tt(()=>e.sliderColor),h=C(),V=C(),x=S(()=>e.direction==="horizontal"),b=S(()=>h.value?.group?.isSelected.value??!1);function u(f,D){return{opacity:[0,1]}}function r(f,D){return e.direction==="vertical"?{transform:["scaleY(0)","scaleY(1)"]}:{transform:["scaleX(0)","scaleX(1)"]}}function o(f,D){const k=D.getBoundingClientRect(),A=f.getBoundingClientRect(),T=x.value?"x":"y",I=x.value?"X":"Y",B=x.value?"right":"bottom",F=x.value?"width":"height",H=k[T],ae=A[T],G=H>ae?k[B]-A[B]:k[T]-A[T],re=Math.sign(G)>0?x.value?"right":"bottom":Math.sign(G)<0?x.value?"left":"top":"center",be=(Math.abs(G)+(Math.sign(G)<0?k[F]:A[F]))/Math.max(k[F],A[F])||0,ye=k[F]/A[F]||0,ce=1.5;return{transform:[`translate${I}(${G}px) scale${I}(${ye})`,`translate${I}(${G/ce}px) scale${I}(${(be-1)/ce+1})`,"none"],transformOrigin:Array(3).fill(re)}}function y(f){let{value:D}=f;if(D){const k=h.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),A=V.value;if(!k||!A)return;const T=getComputedStyle(k).color,I={fade:u,grow:r,shift:o}[e.sliderTransition??"shift"]??o,B=Number(e.sliderTransitionDuration)||({fade:400,grow:350,shift:225}[e.sliderTransition??"shift"]??225);Mt(A,{backgroundColor:[T,"currentcolor"],...I(A,k)},{duration:B,easing:qt})}}return le(()=>{const f=U.filterProps(e);return a(U,X({symbol:Pe,ref:h,class:["v-tab",e.class,b.value&&e.inset?v.value:[]],style:[e.style,b.value&&e.inset?n.value:[]],tabindex:b.value?0:-1,role:"tab","aria-selected":String(b.value),active:!1},f,i,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":y}),{...l,default:()=>t(ne,null,[l.default?.()??e.text,!e.hideSlider&&t("div",{ref:V,class:ue(["v-tab__slider",m.value]),style:Be(c.value)},null)])})}),Ge({},h)}}),Ua=e=>{const{touchstartX:d,touchendX:l,touchstartY:i,touchendY:m}=e,c=.5,v=16;e.offsetX=l-d,e.offsetY=m-i,Math.abs(e.offsetY)<c*Math.abs(e.offsetX)&&(e.left&&l<d-v&&e.left(e),e.right&&l>d+v&&e.right(e)),Math.abs(e.offsetX)<c*Math.abs(e.offsetY)&&(e.up&&m<i-v&&e.up(e),e.down&&m>i+v&&e.down(e))};function Na(e,d){const l=e.changedTouches[0];d.touchstartX=l.clientX,d.touchstartY=l.clientY,d.start?.({originalEvent:e,...d})}function Ma(e,d){const l=e.changedTouches[0];d.touchendX=l.clientX,d.touchendY=l.clientY,d.end?.({originalEvent:e,...d}),Ua(d)}function qa(e,d){const l=e.changedTouches[0];d.touchmoveX=l.clientX,d.touchmoveY=l.clientY,d.move?.({originalEvent:e,...d})}function La(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const d={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:l=>Na(l,d),touchend:l=>Ma(l,d),touchmove:l=>qa(l,d)}}function za(e,d){const l=d.value,i=l?.parent?e.parentElement:e,m=l?.options??{passive:!0},c=d.instance?.$.uid;if(!i||c===void 0)return;const v=La(d.value);i._touchHandlers=i._touchHandlers??Object.create(null),i._touchHandlers[c]=v,lt(v).forEach(n=>{i.addEventListener(n,v[n],m)})}function ja(e,d){const l=d.value?.parent?e.parentElement:e,i=d.instance?.$.uid;if(!l?._touchHandlers||i===void 0)return;const m=l._touchHandlers[i];lt(m).forEach(c=>{l.removeEventListener(c,m[c])}),delete l._touchHandlers[i]}const Ve={mounted:za,unmounted:ja},mt=Symbol.for("vuetify:v-window"),ft=Symbol.for("vuetify:v-window-group"),vt=K({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...nt(),...at(),...Gt()},"VWindow"),xe=te()({name:"VWindow",directives:{vTouch:Ve},props:vt(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:l}=d;const{themeClasses:i}=zt(e),{isRtl:m}=jt(),{t:c}=We(),v=Ot(e,ft),n=C(),h=S(()=>m.value?!e.reverse:e.reverse),V=me(!1),x=S(()=>{if(e.crossfade)return"v-window-crossfade-transition";const T=e.direction==="vertical"?"y":"x",B=(h.value?!V.value:V.value)?"-reverse":"";return`v-window-${T}${B}-transition`}),b=me(0),u=C(void 0),r=S(()=>v.items.value.findIndex(T=>v.selected.value.includes(T.id)));O(r,(T,I)=>{let B;const F={left:0,top:0};ze&&I>=0&&(B=Wt(n.value),F.left=B?.scrollLeft,F.top=B?.scrollTop);const H=v.items.value.length,ae=H-1;H<=2?V.value=T<I:T===ae&&I===0?V.value=!1:T===0&&I===ae?V.value=!0:V.value=T<I,Ce(()=>{if(!ze||!B)return;B.scrollTop!==F.top&&B.scrollTo({...F,behavior:"instant"}),requestAnimationFrame(()=>{if(!B)return;B.scrollTop!==F.top&&B.scrollTo({...F,behavior:"instant"})})})},{flush:"sync"}),Xt(mt,{transition:x,isReversed:V,transitionCount:b,transitionHeight:u,rootRef:n});const o=M(()=>e.continuous||r.value!==0),y=M(()=>e.continuous||r.value!==v.items.value.length-1);function f(){o.value&&v.prev()}function D(){y.value&&v.next()}const k=S(()=>{const T=[],I={icon:m.value?e.nextIcon:e.prevIcon,class:`v-window__${h.value?"right":"left"}`,onClick:v.prev,"aria-label":c("$vuetify.carousel.prev")};T.push(o.value?l.prev?l.prev({props:I}):a(U,I,null):t("div",null,null));const B={icon:m.value?e.prevIcon:e.nextIcon,class:`v-window__${h.value?"left":"right"}`,onClick:v.next,"aria-label":c("$vuetify.carousel.next")};return T.push(y.value?l.next?l.next({props:B}):a(U,B,null):t("div",null,null)),T}),A=S(()=>e.touch===!1?e.touch:{...{left:()=>{h.value?f():D()},right:()=>{h.value?D():f()},start:I=>{let{originalEvent:B}=I;B.stopPropagation()}},...e.touch===!0?{}:e.touch});return le(()=>z(a(e.tag,{ref:n,class:ue(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},i.value,e.class]),style:Be([e.style,{"--v-window-transition-duration":Yt()?null:oe(e.transitionDuration,"ms")}])},{default:()=>[t("div",{class:"v-window__container",style:{height:u.value}},[l.default?.({group:v}),e.showArrows!==!1&&t("div",{class:ue(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[k.value])]),l.additional?.({group:v})]}),[[Ve,A.value]])),{group:v}}}),Oa=K({...Se(vt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Wa=te()({name:"VTabsWindow",props:Oa(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:l}=d;const i=ot(Pe,null),m=ke(e,"modelValue"),c=S({get(){return m.value!=null||!i?m.value:i.items.value.find(v=>i.selected.value.includes(v.id))?.value},set(v){m.value=v}});return le(()=>{const v=xe.filterProps(e);return a(xe,X({_as:"VTabsWindow"},v,{modelValue:c.value,"onUpdate:modelValue":n=>c.value=n,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),l)}),{}}}),bt=K({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...nt(),...el(),...Zt()},"VWindowItem"),we=te()({name:"VWindowItem",directives:{vTouch:Ve},props:bt(),emits:{"group:selected":e=>!0},setup(e,d){let{slots:l}=d;const i=ot(mt),m=Ht(e,ft),{isBooted:c}=Kt();if(!i||!m)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const v=me(!1),n=S(()=>c.value&&(i.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function h(){!v.value||!i||(v.value=!1,i.transitionCount.value>0&&(i.transitionCount.value-=1,i.transitionCount.value===0&&(i.transitionHeight.value=void 0)))}function V(){v.value||!i||(v.value=!0,i.transitionCount.value===0&&(i.transitionHeight.value=oe(i.rootRef.value?.clientHeight)),i.transitionCount.value+=1)}function x(){h()}function b(o){v.value&&Ce(()=>{!n.value||!v.value||!i||(i.transitionHeight.value=oe(o.clientHeight))})}const u=S(()=>{const o=i.isReversed.value?e.reverseTransition:e.transition;return n.value?{name:typeof o!="string"?i.transition.value:o,onBeforeEnter:V,onAfterEnter:h,onEnterCancelled:x,onBeforeLeave:V,onAfterLeave:h,onLeaveCancelled:x,onEnter:b}:!1}),{hasContent:r}=Jt(e,m.isSelected);return le(()=>a(Qt,{transition:u.value,disabled:!c.value},{default:()=>[z(t("div",{class:ue(["v-window-item",m.selectedClass.value,e.class]),style:Be(e.style)},[r.value&&l.default?.()]),[[tl,m.isSelected.value]])]})),{groupItem:m}}}),Ya=K({...bt()},"VTabsWindowItem"),Ga=te()({name:"VTabsWindowItem",props:Ya(),setup(e,d){let{slots:l}=d;return le(()=>{const i=we.filterProps(e);return a(we,X({_as:"VTabsWindowItem"},i,{class:["v-tabs-window-item",e.class],style:e.style}),l)}),{}}});function Xa(e){return e?e.map(d=>il(d)?d:{text:d,value:d}):[]}const Ha=K({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,inset:Boolean,insetPadding:[String,Number],insetRadius:[String,Number],sliderColor:String,...sl(rt(),["spaced","sliderTransition","sliderTransitionDuration"]),...yl({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ol(),...at()},"VTabs"),Ka=te()({name:"VTabs",props:Ha(),emits:{"update:modelValue":e=>!0},setup(e,d){let{attrs:l,slots:i}=d;const m=ke(e,"modelValue"),c=S(()=>Xa(e.items)),{densityClasses:v}=ll(e),{backgroundColorClasses:n,backgroundColorStyles:h}=tt(()=>e.bgColor),{scopeId:V}=al();return nl({VTab:{color:M(e,"color"),direction:M(e,"direction"),stacked:M(e,"stacked"),fixed:M(e,"fixedTabs"),inset:M(e,"inset"),sliderColor:M(e,"sliderColor"),sliderTransition:M(e,"sliderTransition"),sliderTransitionDuration:M(e,"sliderTransitionDuration"),hideSlider:M(e,"hideSlider")}}),le(()=>{const x=je.filterProps(e),b=!!(i.window||e.items.length>0);return t(ne,null,[a(je,X(x,{modelValue:m.value,"onUpdate:modelValue":u=>m.value=u,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--inset":e.inset,"v-tabs--stacked":e.stacked},v.value,n.value,e.class],style:[{"--v-tabs-height":oe(e.height),"--v-tabs-inset-padding":e.inset?oe(e.insetPadding):void 0,"--v-tabs-inset-radius":e.inset?oe(e.insetRadius):void 0},h.value,e.style],role:"tablist",symbol:Pe},V,l),{default:i.default??(()=>c.value.map(u=>i.tab?.({item:u})??a(ct,X(u,{key:u.text,value:u.value,spaced:e.spaced}),{default:i[`tab.${u.value}`]?()=>i[`tab.${u.value}`]?.({item:u}):void 0}))),prev:i.prev,next:i.next}),b&&a(Wa,X({modelValue:m.value,"onUpdate:modelValue":u=>m.value=u,key:"tabs-window"},V),{default:()=>[c.value.map(u=>i.item?.({item:u})??a(Ga,{value:u.value},{default:()=>i[`item.${u.value}`]?.({item:u})})),i.window?.()]})])}),{}}}),Ja={class:"d-flex align-center justify-space-between mb-4"},Qa={class:"d-flex align-center gap-4"},Za={class:"ml-4"},en={class:"text-subtitle-1 font-weight-semibold"},tn={class:"text-caption text-medium-emphasis"},ln={class:"text-caption text-medium-emphasis"},sn=N({__name:"EmiRequestDetailPage",setup(e){const d=ul(),l=cl(),i={emi:Oe,employment:ia,card:ba,guarantor:xa,vehicle:Ta,documents:Ia,merchant:Aa},m=C("emi"),c=[{value:"emi",label:"EMI Info",icon:"mdi-cash"},{value:"documents",label:"Documents",icon:"mdi-file-document-outline"},{value:"card",label:"Card Info",icon:"mdi-credit-card-outline"},{value:"employment",label:"Employment Info",icon:"mdi-briefcase-outline"},{value:"guarantor",label:"Guarantor Info",icon:"mdi-account-tie-outline"},{value:"vehicle",label:"Vehicle Info",icon:"mdi-motorbike"}],v=S(()=>i[m.value]??Oe),n=C({user:{name:"",email:"",phone:"",avatar:""},status:""}),h=S(()=>{const b=String(n.value.status??"").toLowerCase();return b==="approved"?"success":b==="pending"?"warning":b==="processing"?"info":"secondary"});async function V(){const b=String(d.params.id??"");if(b)try{const{data:u}=await it(b);n.value={...n.value,...u}}catch{}}function x(){l.back()}return Te(V),(b,u)=>($(),E(J,{fluid:"",class:"pa-0"},{default:s(()=>[t("div",Ja,[a(U,{variant:"text",onClick:x},{default:s(()=>[a(j,{start:""},{default:s(()=>[...u[2]||(u[2]=[R("mdi-arrow-left",-1)])]),_:1}),u[3]||(u[3]=R(" Back ",-1))]),_:1})]),a(Y,{class:"pa-4 mb-4"},{default:s(()=>[t("div",Qa,[a(dl,{size:"64",rounded:""},{default:s(()=>[n.value.user?.avatar?($(),E(de,{key:0,src:n.value?.user?.avatar,alt:"User"},null,8,["src"])):($(),E(de,{key:1,src:"https://placehold.co/64",alt:"User"}))]),_:1}),t("div",Za,[t("div",en,p(n.value.user?.name??"N/A"),1),t("div",tn,p(n.value.user?.email??"N/A"),1),t("div",ln,p(n.value.user?.phone??"N/A"),1)]),a(Ie),a(Ee,{size:"small",variant:"tonal",color:h.value},{default:s(()=>[R(p(n.value.status),1)]),_:1},8,["color"])])]),_:1}),a(Y,null,{default:s(()=>[a(Ka,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=r=>m.value=r),density:"comfortable","show-arrows":"",color:"primary"},{default:s(()=>[($(),fe(ne,null,rl(c,r=>a(ct,{key:r.value,value:r.value},{default:s(()=>[a(j,{start:"",size:"16"},{default:s(()=>[R(p(r.icon),1)]),_:2},1024),R(" "+p(r.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),a(ve,{class:"mt-0"}),a(xe,{modelValue:m.value,"onUpdate:modelValue":u[1]||(u[1]=r=>m.value=r)},{default:s(()=>[a(we,{value:m.value},{default:s(()=>[($(),E(et(v.value),{data:n.value},null,8,["data"]))]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}))}});export{sn as default};

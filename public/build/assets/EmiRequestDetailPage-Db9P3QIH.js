import{q as ge,s as I,v as el,x as ll,y as tl,z as _e,A as al,w as E,B as nl,C as sl,D as pe,E as ve,a as l,g as e,F as J,G as ol,H as te,n as dl,I as il,r as h,J as ul,K as rl,L as ml,M as be,N as cl,O as fl,P as pl,Q as vl,d as D,R as ne,S as Ve,p as k,T as $,b as o,k as R,l as c,m as _,U as P,i as H,W as O,V as A,e as B,f as F,X as xe,Y as ke,Z as he,_ as bl,o as se,$ as we,a0 as oe,a1 as X,a2 as $e,a3 as Ce,c as Q,t as f,a4 as T,a5 as yl,u as N,j as M,a6 as gl,h as _l,a7 as Vl,a8 as xl,a9 as kl}from"./main-Mk75_2Bb.js";import{g as Se,b as Fe,c as hl,d as wl,f as q,a as $l}from"./formatters-dh-tKqzD.js";import{V as de,a as ie,b as Cl,c as G}from"./VDataTable-CXZ8Jdy-.js";import{V as Sl,a as Fl,b as Ul,c as Il}from"./VTabs-B5u0b5bI.js";function Dl(){function n(t){return[...t.dataTransfer?.items??[]].filter(v=>v.kind==="file").map(v=>v.webkitGetAsEntry()).filter(Boolean).length>0||[...t.dataTransfer?.files??[]].length>0}async function y(t){const u=[],v=[...t.dataTransfer?.items??[]].filter(m=>m.kind==="file").map(m=>m.webkitGetAsEntry()).filter(Boolean);if(v.length)for(const m of v){const V=await Ue(m,Ie(".",m));u.push(...V.map(a=>a.file))}else u.push(...t.dataTransfer?.files??[]);return u}return{handleDrop:y,hasFilesOrFolders:n}}function Ue(n){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((t,u)=>{n.isFile?n.file(m=>t([{file:m,path:y}]),u):n.isDirectory&&n.createReader().readEntries(async m=>{const V=[];for(const a of m)V.push(...await Ue(a,Ie(y,a)));t(V)})})}function Ie(n,y){return y.isDirectory?`${n}/${y.name}`:n}const Nl=ge({filterByType:String},"file-accept");function Rl(n){const y=I(()=>n.filterByType?Al(n.filterByType):null);function t(u){if(y.value){const v=u.filter(y.value);return{accepted:v,rejected:u.filter(m=>!v.includes(m))}}return{accepted:u,rejected:[]}}return{filterAccepted:t}}function Al(n){const y=n.split(",").map(m=>m.trim().toLowerCase()),t=y.filter(m=>m.startsWith(".")),u=y.filter(m=>m.endsWith("/*")),v=y.filter(m=>!t.includes(m)&&!u.includes(m));return m=>{const V=m.name.split(".").at(-1)?.toLowerCase()??"",a=m.type.split("/").at(0)?.toLowerCase()??"";return v.includes(m.type)||t.includes(`.${V}`)||u.includes(`${a}/*`)}}const Bl=ge({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:n=>typeof n=="boolean"||[1e3,1024].includes(Number(n))},truncateLength:{type:[Number,String],default:22},...pl(vl({prependIcon:"$file"}),["direction"]),modelValue:{type:[Array,Object],default:n=>n.multiple?[]:null,validator:n=>_e(n).every(y=>y!=null&&typeof y=="object")},...Nl(),...fl({clearable:!0})},"VFileInput"),ae=el()({name:"VFileInput",inheritAttrs:!1,props:Bl(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0,rejected:n=>!0},setup(n,y){let{attrs:t,emit:u,slots:v}=y;const{t:m}=ll(),{filterAccepted:V}=Rl(n),a=tl(n,"modelValue",n.modelValue,p=>_e(p),p=>!n.multiple&&Array.isArray(p)?p[0]:p),{isFocused:x,focus:w,blur:C}=al(n),g=I(()=>typeof n.showSize!="boolean"?n.showSize:void 0),d=I(()=>(a.value??[]).reduce((p,U)=>{let{size:L=0}=U;return p+L},0)),i=I(()=>be(d.value,g.value)),s=I(()=>(a.value??[]).map(p=>{const{name:U="",size:L=0}=p,j=Ee(U);return n.showSize?`${j} (${be(L,g.value)})`:j})),b=I(()=>{const p=a.value?.length??0;return n.showSize?m(n.counterSizeString,p,i.value):m(n.counterString,p)}),r=h(),W=h(),S=h(),De=ul(()=>x.value||n.active),ue=I(()=>["plain","underlined"].includes(n.variant)),K=cl(!1),{handleDrop:Ne,hasFilesOrFolders:Re}=Dl();function Y(){S.value!==document.activeElement&&S.value?.focus(),x.value||w()}function Ae(p){S.value?.click()}function Be(p){u("mousedown:control",p)}function qe(p){S.value?.click(),u("click:control",p)}function Te(p){p.stopPropagation(),Y(),rl(()=>{a.value=[],ml(n["onClick:clear"],p)})}function Ee(p){if(p.length<Number(n.truncateLength))return p;const U=Math.floor((Number(n.truncateLength)-1)/2);return`${p.slice(0,U)}â€¦${p.slice(p.length-U)}`}function Pe(p){p.preventDefault(),p.stopImmediatePropagation(),K.value=!0}function Me(p){p.preventDefault(),K.value=!1}async function Le(p){if(p.preventDefault(),p.stopImmediatePropagation(),K.value=!1,!S.value||!Re(p))return;const U=await Ne(p);re(U)}function je(p){if(!(!p.target||p.repack))if(n.filterByType)re([...p.target.files]);else{const U=p.target;a.value=[...U.files??[]]}}function re(p){const U=new DataTransfer,{accepted:L,rejected:j}=V(p);j.length&&u("rejected",j);for(const ee of L)U.items.add(ee);S.value.files=U.files,a.value=[...U.files];const Z=new Event("change",{bubbles:!0});Z.repack=!0,S.value.dispatchEvent(Z)}return E(a,p=>{(!Array.isArray(p)||!p.length)&&S.value&&(S.value.value="")}),nl(()=>{const p=!!(v.counter||n.counter),U=!!(p||v.details),[L,j]=sl(t),{modelValue:Z,...ee}=pe.filterProps(n),ze={...ve.filterProps(n),"onClick:clear":Te},Oe=t.webkitdirectory!==void 0&&t.webkitdirectory!==!1,Ge=t.accept?String(t.accept):void 0,We=Oe?void 0:n.filterByType??Ge;return l(pe,te({ref:r,modelValue:n.multiple?a.value:a.value[0],class:["v-file-input",{"v-file-input--chips":!!n.chips,"v-file-input--dragging":K.value,"v-file-input--hide":n.hideInput,"v-input--plain-underlined":ue.value},n.class],style:n.style,"onClick:prepend":Ae},L,ee,{centerAffix:!ue.value,focused:x.value}),{...v,default:le=>{let{id:He,isDisabled:me,isDirty:ce,isReadonly:fe,isValid:Ke,hasDetails:Je}=le;return l(ve,te({ref:W,prependIcon:n.prependIcon,onMousedown:Be,onClick:qe,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},ze,{id:He.value,active:De.value||ce.value,dirty:ce.value||n.dirty,disabled:me.value,focused:x.value,details:Je.value,error:Ke.value===!1,onDragover:Pe,onDrop:Le}),{...v,default:Qe=>{let{props:{class:Xe,...Ye},controlRef:Ze}=Qe;return e(J,null,[e("input",te({ref:z=>S.value=Ze.value=z,type:"file",accept:We,readonly:fe.value,disabled:me.value,multiple:n.multiple,name:n.name,onClick:z=>{z.stopPropagation(),fe.value&&z.preventDefault(),Y()},onChange:je,onDragleave:Me,onFocus:Y,onBlur:C},Ye,j),null),e("div",{class:dl(Xe)},[!!a.value?.length&&!n.hideInput&&(v.selection?v.selection({fileNames:s.value,totalBytes:d.value,totalBytesReadable:i.value}):n.chips?s.value.map(z=>l(de,{key:z,size:"small",text:z},null)):s.value.join(", "))])])}})},details:U?le=>e(J,null,[v.details?.(le),p&&e(J,null,[e("span",null,null),l(ol,{active:!!a.value?.length,value:b.value,disabled:n.disabled},v.counter)])]):void 0})}),il({},r,W,S)}}),ql=D({__name:"EmiNabilBankForm",props:{data:{}},setup(n){const y=n,t=h(),u=h(!1),v=ne(),m={required:g=>!!g||"Required"},V=["3","6","9","12","18","24"],a=he({bank_code:"",cardholder_name:"",card_number:"",expiry_date:"",mobile:"",telephone:"",item_name:"",manufactured_by:"",model_name:"",serial_no:"",installment_amount:"",amount_in_words:"",tenure:"",signature_file:null,merchant_name_address:""}),x=h(null);let w=null;E(()=>a.signature_file,g=>{w&&(URL.revokeObjectURL(w),w=null),g instanceof File?(w=URL.createObjectURL(g),x.value=w):x.value=null}),E(()=>y.data,g=>{g&&(a.bank_code=g.bank_code??"",a.cardholder_name=g?.user?.name??"",a.card_number=g.card_number??"",a.expiry_date=g.card_expiry_date??"",a.mobile=g?.user?.mobile??"",a.telephone="",a.item_name=g.product?.name??"",a.manufactured_by="",a.model_name="",a.serial_no="",a.installment_amount=g.finance_amount??g.product_price??"",a.amount_in_words="",a.tenure=g.emi_mode?String(g.emi_mode):"")},{immediate:!0});async function C(){const{valid:g}=await t.value?.validate();if(!g)return;const d=String(y.data?.id??"");if(d){u.value=!0;try{const i=new FormData;Object.entries(a).forEach(([b,r])=>{if(!(r==null||r==="")){if(r instanceof File){i.append(b,r);return}i.append(b,String(r))}});const{data:s}=await Se(d,i);console.log(s?.message??"Application generated"),console.log("Generated file path:",s?.path??""),v.onSaved?.(s),v.close()}finally{u.value=!1}}}return(g,d)=>{const i=Ve("maska");return k(),$(ke,{ref_key:"formRef",ref:t,onSubmit:xe(C,["prevent"])},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12"},{default:o(()=>[...d[14]||(d[14]=[e("div",{class:"text-subtitle-2 text-primary"},"Cardholder Details",-1)])]),_:1}),l(c,{cols:"12",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.cardholder_name,"onUpdate:modelValue":d[0]||(d[0]=s=>a.cardholder_name=s),label:"Name of the cardholder",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.card_number,"onUpdate:modelValue":d[1]||(d[1]=s=>a.card_number=s),label:"Nabil Credit Card Number",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"]),[[i,"#### #### #### ####"]])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.expiry_date,"onUpdate:modelValue":d[2]||(d[2]=s=>a.expiry_date=s),label:"Expiry Date (mm/yy)",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"]),[[i,"##/##"]])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.mobile,"onUpdate:modelValue":d[3]||(d[3]=s=>a.mobile=s),label:"Mobile Number",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"]),[[i,"(###) ###-####"]])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.telephone,"onUpdate:modelValue":d[4]||(d[4]=s=>a.telephone=s),label:"Telephone Number",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"]),[[i,"(###) ###-####"]])]),_:1}),l(c,{cols:"12"},{default:o(()=>[...d[15]||(d[15]=[e("div",{class:"text-subtitle-2 text-primary"},"Item Details",-1)])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.item_name,"onUpdate:modelValue":d[5]||(d[5]=s=>a.item_name=s),label:"Name of the Item",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.manufactured_by,"onUpdate:modelValue":d[6]||(d[6]=s=>a.manufactured_by=s),label:"Manufactured By",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.model_name,"onUpdate:modelValue":d[7]||(d[7]=s=>a.model_name=s),label:"Model Number/Name",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.serial_no,"onUpdate:modelValue":d[8]||(d[8]=s=>a.serial_no=s),label:"Serial Number",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(ie,{modelValue:a.tenure,"onUpdate:modelValue":d[9]||(d[9]=s=>a.tenure=s),items:V,label:"Installment tenure (Months)",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(ae,{modelValue:a.signature_file,"onUpdate:modelValue":d[10]||(d[10]=s=>a.signature_file=s),"prepend-icon":"","prepend-inner-icon":"mdi-image",label:"Signature of Cardholder",density:"comfortable",variant:"outlined",accept:"image/*",disabled:u.value},null,8,["modelValue","disabled"]),x.value?(k(),$(H,{key:0,src:x.value,"max-height":"140",class:"mt-2",contain:""},null,8,["src"])):O("",!0)]),_:1}),l(c,{cols:"12",md:"3",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.installment_amount,"onUpdate:modelValue":d[11]||(d[11]=s=>a.installment_amount=s),label:"Installment Amount",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"9",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.amount_in_words,"onUpdate:modelValue":d[12]||(d[12]=s=>a.amount_in_words=s),label:"Amount in Words",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12"},{default:o(()=>[...d[16]||(d[16]=[e("div",{class:"text-subtitle-2 text-primary"},"Merchant Details",-1)])]),_:1}),l(c,{cols:"12",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.merchant_name_address,"onUpdate:modelValue":d[13]||(d[13]=s=>a.merchant_name_address=s),label:"Name and address of the Merchant",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1})]),_:1}),l(R,null,{default:o(()=>[l(c,{cols:"12",class:"d-flex justify-space-around"},{default:o(()=>[l(A,{color:"primary",loading:u.value,type:"submit"},{default:o(()=>[l(B,null,{default:o(()=>[...d[17]||(d[17]=[F("mdi-creation",-1)])]),_:1}),d[18]||(d[18]=F(" Generate ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)}}}),Tl=D({__name:"EmiSiddharthaBankForm",props:{data:{}},setup(n){const y=n,t=h(),u=h(!1),v=ne(),m={required:i=>!!i||"Required"},V=["3","6","9","12","18","24"],a=he({bank_code:"",cardholder_name:"",address:"",mobile:"",email:"",card_number:"",expiry_date:"",item_name:"",manufactured_by:"",model_name:"",serial_no:"",emi_amount:"",amount_in_words:"",emi_tenure:"",merchant_name:"",requested_by:"",requested_phone:"",signature_file:null,stamp_file:null}),x=h(null),w=h(null);let C=null,g=null;E(()=>a.signature_file,i=>{C&&(URL.revokeObjectURL(C),C=null),i instanceof File?(C=URL.createObjectURL(i),x.value=C):x.value=null}),E(()=>a.stamp_file,i=>{g&&(URL.revokeObjectURL(g),g=null),i instanceof File?(g=URL.createObjectURL(i),w.value=g):w.value=null}),E(()=>y.data,i=>{i&&(a.bank_code=i.bank_code??"",a.cardholder_name=i?.user?.name??"",a.address=i.address??"",a.mobile=i?.user?.mobile??"",a.email=i.email??"",a.card_number=i.card_number??"",a.expiry_date=i.card_expiry_date??"",a.item_name=i.product?.name??"",a.manufactured_by="",a.model_name="",a.serial_no="",a.emi_amount=i.finance_amount??i.product_price??"",a.amount_in_words="",a.emi_tenure=i.emi_mode?String(i.emi_mode):"")},{immediate:!0});async function d(){const{valid:i}=await t.value?.validate();if(!i)return;const s=String(y.data?.id??"");if(s){u.value=!0;try{const b=new FormData;Object.entries(a).forEach(([W,S])=>{if(!(S==null||S==="")){if(S instanceof File){b.append(W,S);return}b.append(W,String(S))}}),console.log("Payload for generating application:",Object.fromEntries(b.entries()));const{data:r}=await Se(s,b);console.log(r?.message??"Application generated"),console.log("Generated file path:",r?.path??""),v.onSaved?.(r),v.close()}finally{u.value=!1}}}return(i,s)=>{const b=Ve("maska");return k(),$(ke,{ref_key:"formRef",ref:t,onSubmit:xe(d,["prevent"])},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12"},{default:o(()=>[...s[18]||(s[18]=[e("div",{class:"text-subtitle-2 text-primary"},"Cardholder Details",-1)])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.cardholder_name,"onUpdate:modelValue":s[0]||(s[0]=r=>a.cardholder_name=r),label:"Name of the cardholder",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.address,"onUpdate:modelValue":s[1]||(s[1]=r=>a.address=r),label:"Address",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.mobile,"onUpdate:modelValue":s[2]||(s[2]=r=>a.mobile=r),label:"Mobile No.",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"]),[[b,"(###) ###-####"]])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.email,"onUpdate:modelValue":s[3]||(s[3]=r=>a.email=r),label:"Email",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.card_number,"onUpdate:modelValue":s[4]||(s[4]=r=>a.card_number=r),label:"SBL Credit Card No.",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"]),[[b,"#### #### #### ####"]])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.expiry_date,"onUpdate:modelValue":s[5]||(s[5]=r=>a.expiry_date=r),label:"Expiry Date (mm/yy)",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"]),[[b,"##/##"]])]),_:1}),l(c,{cols:"12"},{default:o(()=>[...s[19]||(s[19]=[e("div",{class:"text-subtitle-2 text-primary"},"Item Details",-1)])]),_:1}),l(c,{cols:"12",md:"12",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.item_name,"onUpdate:modelValue":s[6]||(s[6]=r=>a.item_name=r),label:"Name of the item",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"4",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.manufactured_by,"onUpdate:modelValue":s[7]||(s[7]=r=>a.manufactured_by=r),label:"Manufactured by",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"4",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.model_name,"onUpdate:modelValue":s[8]||(s[8]=r=>a.model_name=r),label:"Model No./Name",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"4",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.serial_no,"onUpdate:modelValue":s[9]||(s[9]=r=>a.serial_no=r),label:"Serial No.",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"4",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.emi_amount,"onUpdate:modelValue":s[10]||(s[10]=r=>a.emi_amount=r),label:"EMI Loan amount (NPR)",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12",md:"8",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.amount_in_words,"onUpdate:modelValue":s[11]||(s[11]=r=>a.amount_in_words=r),label:"Amount in words",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"4",class:"py-1"},{default:o(()=>[l(ie,{modelValue:a.emi_tenure,"onUpdate:modelValue":s[12]||(s[12]=r=>a.emi_tenure=r),items:V,label:"EMI tenure (months)",density:"comfortable",variant:"outlined",rules:[m.required],disabled:u.value},null,8,["modelValue","rules","disabled"])]),_:1}),l(c,{cols:"12"},{default:o(()=>[...s[20]||(s[20]=[e("div",{class:"text-subtitle-2 text-primary"},"Merchant Details",-1)])]),_:1}),l(c,{cols:"12",md:"12",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.merchant_name,"onUpdate:modelValue":s[13]||(s[13]=r=>a.merchant_name=r),label:"Name of merchant",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(_,{modelValue:a.requested_by,"onUpdate:modelValue":s[14]||(s[14]=r=>a.requested_by=r),label:"Requested by",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[P(l(_,{modelValue:a.requested_phone,"onUpdate:modelValue":s[15]||(s[15]=r=>a.requested_phone=r),label:"Phone no.",density:"comfortable",variant:"outlined",disabled:u.value},null,8,["modelValue","disabled"]),[[b,"########## / ##########"]])]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(ae,{modelValue:a.signature_file,"onUpdate:modelValue":s[16]||(s[16]=r=>a.signature_file=r),"prepend-inner-icon":"mdi-image","prepend-icon":"",label:"Signature",density:"comfortable",variant:"outlined",accept:"image/*",disabled:u.value},null,8,["modelValue","disabled"]),x.value?(k(),$(H,{key:0,src:x.value,"max-height":"140",class:"mt-2",contain:""},null,8,["src"])):O("",!0)]),_:1}),l(c,{cols:"12",md:"6",class:"py-1"},{default:o(()=>[l(ae,{modelValue:a.stamp_file,"onUpdate:modelValue":s[17]||(s[17]=r=>a.stamp_file=r),"prepend-inner-icon":"mdi-image","prepend-icon":"",label:"Stamp",density:"comfortable",variant:"outlined",accept:"image/*",disabled:u.value},null,8,["modelValue","disabled"]),w.value?(k(),$(H,{key:0,src:w.value,"max-height":"140",class:"mt-2",contain:""},null,8,["src"])):O("",!0)]),_:1})]),_:1}),l(R,null,{default:o(()=>[l(c,{cols:"12",class:"d-flex justify-space-around"},{default:o(()=>[l(A,{color:"primary",loading:u.value,type:"submit"},{default:o(()=>[l(B,null,{default:o(()=>[...s[21]||(s[21]=[F("mdi-creation",-1)])]),_:1}),s[22]||(s[22]=F(" Generate ",-1))]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)}}});function El(n){return bl.get("/admin/emi-banks",{params:n})}const Pl={class:"d-flex flex-column"},Ml={style:{"max-width":"400px"}},Ll={class:"mt-4"},jl={key:1,class:"text-center text-medium-emphasis py-6"},zl={class:"text-error font-weight-semibold"},Ol=D({__name:"EmiRequestForm",props:{id:{},data:{default:null}},setup(n){const y=n,t=h(y.data),u=I(()=>t.value?{...t.value,bank_code:V.value??t.value.bank_code??null}:t.value),v=h([]),m=h(!1),V=h(null),a=I(()=>{switch(V.value?.toLocaleLowerCase()){case"sbl":return Tl;case"nabil":return ql;default:return null}}),x=I(()=>V.value?v.value.find(i=>i.code===V.value)?.name??V.value:""),w=I(()=>V.value?'The form for "':"Please choose a bank above to generate the request form."),C=I(()=>V.value?'" is not available yet.':"");async function g(){m.value=!0;try{const{data:i}=await El();v.value=i?.data??[]}finally{m.value=!1}}async function d(){if(!(!y.id||t.value)){const{data:i}=await Fe(String(y.id));t.value=i?.data??i??null}}return E(()=>y.data,i=>{i&&(t.value=i)}),se(()=>{g(),d()}),(i,s)=>(k(),$(T,{flat:""},{default:o(()=>[l(we,{class:"d-flex justify-space-between align-center py-1"},{default:o(()=>[s[3]||(s[3]=e("span",{class:"font-semibold"},"Bank Request Form",-1)),l(oe),l(A,{icon:"mdi-close",size:"small",color:"error",class:"cursor-pointer",variant:"text","aria-label":"Close",onClick:s[0]||(s[0]=b=>i.$emit("close"))},{default:o(()=>[l(B,null,{default:o(()=>[...s[2]||(s[2]=[F("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(X),l($e,null,{default:o(()=>[e("div",Pl,[s[4]||(s[4]=e("div",{class:"text-subtitle-2 text-primary py-1"},"Preferred Bank",-1)),s[5]||(s[5]=e("div",{class:"text-caption text-medium-emphasis mb-2"}," Select the bank where you want to generate the EMI request. ",-1)),e("div",Ml,[l(ie,{modelValue:V.value,"onUpdate:modelValue":s[1]||(s[1]=b=>V.value=b),items:v.value,"item-title":"name","item-value":"code",label:"Select Bank",placeholder:"Select a bank","persistent-placeholder":"",variant:"outlined",density:"comfortable",loading:m.value},null,8,["modelValue","items","loading"])])]),e("div",Ll,[a.value?(k(),$(Ce(a.value),{key:0,data:u.value??void 0},null,8,["data"])):(k(),Q("div",jl,[e("span",null,f(w.value),1),e("span",zl,f(x.value),1),e("span",null,f(C.value),1)]))])]),_:1})]),_:1}))}}),Gl={class:"py-2"},Wl=D({__name:"EmiApprovalForm",props:{id:{},data:{default:null},application:{default:null}},emits:["close","saved"],setup(n,{emit:y}){const t=n,u=y,v=h(""),m=h(""),V=h(""),a=h(""),x=h(""),w=h(!1),C=I(()=>t.data??t.application??null);function g(s){if(!s)return"";const r=(s.split("?")[0]??"").split("/");return r[r.length-1]??""}function d(){const s=C.value??{},b=String(s.bank??s.bank_name??"Bank");v.value=`EMI Application - ${b}`,m.value=String(s.email??s.user?.email??""),V.value="",a.value="",x.value=g(String(s.path??""))}async function i(){const s=C.value??{},b={request_id:t.id??null,subject:v.value,to:m.value,cc:V.value,bcc:a.value,file_name:x.value,application_id:s.id??null};if(b.application_id){w.value=!0;try{const{data:r}=await hl(b.application_id,b);u("saved",r??b),u("close")}catch(r){console.error("Failed to approve application:",r)}finally{w.value=!1}}}return E(C,d,{immediate:!0}),(s,b)=>(k(),$(T,{flat:""},{default:o(()=>[l(we,{class:"d-flex justify-space-between align-center py-1"},{default:o(()=>[b[7]||(b[7]=e("span",{class:"font-semibold"},"Bank Request Form",-1)),l(oe),l(A,{icon:"mdi-close",size:"small",color:"error",class:"cursor-pointer",variant:"text","aria-label":"Close",onClick:b[0]||(b[0]=r=>s.$emit("close"))},{default:o(()=>[l(B,null,{default:o(()=>[...b[6]||(b[6]=[F("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(X),l($e,null,{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12"},{default:o(()=>[l(_,{modelValue:v.value,"onUpdate:modelValue":b[1]||(b[1]=r=>v.value=r),label:"Subject",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),l(c,{cols:"12",md:"12"},{default:o(()=>[l(_,{modelValue:m.value,"onUpdate:modelValue":b[2]||(b[2]=r=>m.value=r),label:"To",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),l(c,{cols:"12",md:"12"},{default:o(()=>[l(_,{modelValue:V.value,"onUpdate:modelValue":b[3]||(b[3]=r=>V.value=r),label:"CC",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),l(c,{cols:"12",md:"12"},{default:o(()=>[l(_,{modelValue:a.value,"onUpdate:modelValue":b[4]||(b[4]=r=>a.value=r),label:"BCC",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),l(c,{cols:"12"},{default:o(()=>[l(_,{modelValue:x.value,"onUpdate:modelValue":b[5]||(b[5]=r=>x.value=r),label:"Attachment File Name",variant:"outlined",density:"comfortable",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(yl,{class:"d-flex justify-space-around"},{default:o(()=>[e("div",Gl,[l(A,{color:"primary",loading:w.value,variant:"tonal","prepend-icon":"mdi-check-decagram-outline",onClick:i},{default:o(()=>[...b[8]||(b[8]=[F(" Approve & Send Email ",-1)])]),_:1},8,["loading"])])]),_:1})]),_:1}))}}),Hl={class:"info-card"},Kl={class:"d-flex align-center justify-space-between mb-2"},Jl={class:""},Ql={class:"d-flex justify-end gap-2"},Xl=D({__name:"EmiBankApplicationList",props:{data:{}},setup(n){const y=[{title:"Bank",key:"bank",align:"start",width:"200"},{title:"Status",key:"status",align:"start",width:"100"},{title:"Date",key:"date",align:"start",width:"150"},{title:"Action",key:"action",align:"end",sortable:!1,width:"160"}],t=n,u=ne(),v=h(!1),m=h([]),V=I(()=>m.value.map(d=>({id:d.id,bank:d.bank_name??"--",status:d.status??"--",date:d.date??"--",path:d.file_url??d.file_path??""})));async function a(){const d=String(t.data?.id??"");if(d){v.value=!0;try{const{data:i}=await wl(d);m.value=i?.data??[]}finally{v.value=!1}}}function x(){u.open(Ol,{id:t.data?.id},{size:"lg",onSaved:()=>{a()}})}function w(d){d&&window.open(d,"_blank")}function C(d){console.log("Approving application:",{item:d}),u.open(Wl,{id:t.data?.id,data:{...d,email:t.data?.email??t.data?.user?.email??""}},{title:`Approve - ${d.bank}`,size:"lg",onSaved:()=>{a()}})}function g(d){if(!d)return;const i=document.createElement("a");i.href=d,i.download="",i.click()}return E(()=>t.data?.id,()=>{a()},{immediate:!0}),se(()=>{a()}),(d,i)=>(k(),$(T,{elevation:"0",class:"pa-4"},{default:o(()=>[e("div",Hl,[e("div",Kl,[i[3]||(i[3]=e("div",null,[e("h4",null,"Generated Requests")],-1)),t.data?.status.toLowerCase()!=="approved"?(k(),$(A,{key:0,color:"primary",onClick:i[0]||(i[0]=s=>x())},{default:o(()=>[l(B,{left:""},{default:o(()=>[...i[1]||(i[1]=[F("mdi-file-plus",-1)])]),_:1}),i[2]||(i[2]=F(" Generate Now ",-1))]),_:1})):O("",!0)]),l(X,{class:"my-2"}),l(Cl,{headers:y,items:V.value,density:"comfortable",class:"elevation-0",loading:v.value},{"item.status":o(({item:s})=>[e("div",Jl,[l(de,{class:"text-capitalize",color:s.status.toLowerCase()==="approved"?"success":"warning","text-color":"white",size:"small"},{default:o(()=>[F(f(s.status??"--"),1)]),_:2},1032,["color"])])]),"item.action":o(({item:s})=>[e("div",Ql,[l(A,{variant:"tonal",color:"primary",class:"mr-4",size:"x-small",icon:"",disabled:!s.path,onClick:b=>w(s.path)},{default:o(()=>[l(B,null,{default:o(()=>[...i[4]||(i[4]=[F("mdi-eye",-1)])]),_:1})]),_:1},8,["disabled","onClick"]),l(A,{variant:"tonal",color:"primary",class:"mr-4",size:"x-small",icon:"",disabled:!s.path,onClick:b=>C(s)},{default:o(()=>[l(B,null,{default:o(()=>[...i[5]||(i[5]=[F("mdi-email-arrow-right",-1)])]),_:1})]),_:1},8,["disabled","onClick"]),l(A,{variant:"tonal",color:"primary",size:"x-small",icon:"",disabled:!s.path,onClick:b=>g(s.path)},{default:o(()=>[l(B,null,{default:o(()=>[...i[6]||(i[6]=[F("mdi-download",-1)])]),_:1})]),_:1},8,["disabled","onClick"])])]),_:1},8,["items","loading"])])]),_:1}))}}),Yl={class:"emi-info-grid"},Zl={class:"pt-4"},et={class:"text-right"},lt={class:"text-right"},tt={class:"text-right"},at={class:"text-right"},nt={class:"text-right"},st={class:"text-right"},ot={class:"text-right"},dt={key:0},it={class:"text-right"},ut={key:1},rt={class:"text-right"},mt={class:"text-right"},ct={class:"pt-4"},ft=D({__name:"TabEmiInfo",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{class:"pt-0",fluid:""},{default:o(()=>[l(T,null,{default:o(()=>[e("div",null,[e("div",Yl,[e("div",Zl,[l(G,null,{default:o(()=>[e("tbody",null,[e("tr",null,[t[0]||(t[0]=e("td",null,"Request Code",-1)),e("td",et,f(n.data.application_code),1)]),t[10]||(t[10]=e("tr",null,[e("td",null,"EMI Type"),e("td",{class:"text-right"},"n/a")],-1)),e("tr",null,[t[1]||(t[1]=e("td",null,"User",-1)),e("td",lt,f(n.data.user?.name||"N/A"),1)]),e("tr",null,[t[2]||(t[2]=e("td",null,"Product",-1)),e("td",tt,f(n.data.product?.name||"N/A"),1)]),e("tr",null,[t[3]||(t[3]=e("td",null,"Price",-1)),e("td",at,f(N(q)(n.data.product_price)),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"Service Charge",-1)),e("td",nt,f(N(q)(n.data.service_charge)),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"EMI Amount",-1)),e("td",st,f(N(q)(n.data.emi_per_month)),1)]),e("tr",null,[t[6]||(t[6]=e("td",null,"EMI Mode",-1)),e("td",ot,f(n.data.emi_mode)+" Months",1)]),n.data.emi_finance_id?(k(),Q("tr",dt,[t[7]||(t[7]=e("td",null,"Finance From",-1)),e("td",it,f(n.data.finance.name),1)])):O("",!0),n.data.bank?(k(),Q("tr",ut,[t[8]||(t[8]=e("td",null,"Bank Name",-1)),e("td",rt,f(n.data?.bankDetail?.name),1)])):O("",!0),e("tr",null,[t[9]||(t[9]=e("td",null,"Applied On",-1)),e("td",mt,f(N($l)(n.data.created_at)),1)])])]),_:1})]),t[11]||(t[11]=e("div",{class:"emi-info-divider"},null,-1)),e("div",ct,[l(Xl,{data:n.data},null,8,["data"])])])])]),_:1})]),_:1}))}}),ye=gl(ft,[["__scopeId","data-v-af2ef670"]]),pt={class:"border rounded"},vt={class:"text-right"},bt={class:"text-right"},yt={class:"text-right"},gt={class:"text-right"},_t={class:"text-right"},Vt={class:"text-right"},xt=D({__name:"TabEmploymentInfo",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{fluid:""},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12",lg:"6","offset-lg":"3"},{default:o(()=>[e("div",pt,[l(G,null,{default:o(()=>[e("tbody",null,[e("tr",null,[t[0]||(t[0]=e("td",null,"Occupation",-1)),e("td",vt,f(n.data.occupation),1)]),e("tr",null,[t[1]||(t[1]=e("td",null,"Occupation Type",-1)),e("td",bt,f(n.data.occupation_type),1)]),e("tr",null,[t[2]||(t[2]=e("td",null,"Length of Employment",-1)),e("td",yt,f(n.data.length_of_employment)+" yrs",1)]),e("tr",null,[t[3]||(t[3]=e("td",null,"Monthly Income",-1)),e("td",gt,"Rs. "+f(N(q)(n.data.monthly_income)),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"Monthly Expenses",-1)),e("td",_t,"Rs. "+f(N(q)(n.data.monthly_expenses)),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"No. of Dependents",-1)),e("td",Vt,f(n.data.no_of_dependents),1)])])]),_:1})])]),_:1})]),_:1})]),_:1}))}}),kt={class:"text-right"},ht={class:"text-right"},wt={class:"text-right"},$t={class:"text-right"},Ct={class:"text-right"},St={class:"text-right"},Ft={class:"text-right"},Ut=D({__name:"TabCardInfo",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{fluid:""},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12",lg:"6","offset-lg":"3"},{default:o(()=>[l(T,{class:"pa-4"},{default:o(()=>[l(G,null,{default:o(()=>[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",null,"Field"),e("th",{class:"text-right"},"Value")])],-1)),e("tbody",null,[e("tr",null,[t[0]||(t[0]=e("td",null,"Credit Card",-1)),e("td",kt,f(n.data.credit_card),1)]),e("tr",null,[t[1]||(t[1]=e("td",null,"Card Holder Name",-1)),e("td",ht,f(n.data.card_holder_name),1)]),e("tr",null,[t[2]||(t[2]=e("td",null,"Card Number",-1)),e("td",wt,f(n.data.card_number),1)]),e("tr",null,[t[3]||(t[3]=e("td",null,"Card Limit",-1)),e("td",$t,f(N(q)(n.data.card_limit)),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"Card Expiry",-1)),e("td",Ct,f(n.data.card_expiry_date),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"Bank",-1)),e("td",St,f(n.data.bankDetail?.name),1)]),e("tr",null,[t[6]||(t[6]=e("td",null,"Account Number",-1)),e("td",Ft,f(n.data.account_number),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),It={class:"text-right"},Dt={class:"text-right"},Nt={class:"text-right"},Rt={class:"text-right"},At={class:"text-right"},Bt={class:"text-right"},qt=D({__name:"TabGuarantorInfo",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{fluid:""},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12",lg:"6","offset-lg":"3"},{default:o(()=>[l(T,{class:"pa-4"},{default:o(()=>[l(G,null,{default:o(()=>[t[6]||(t[6]=e("thead",null,[e("tr",null,[e("th",null,"Field"),e("th",{class:"text-right"},"Value")])],-1)),e("tbody",null,[e("tr",null,[t[0]||(t[0]=e("td",null,"Name",-1)),e("td",It,f(n.data.guarantor_name||"N/A"),1)]),e("tr",null,[t[1]||(t[1]=e("td",null,"Email",-1)),e("td",Dt,f(n.data.guarantor_email),1)]),e("tr",null,[t[2]||(t[2]=e("td",null,"Phone",-1)),e("td",Nt,f(n.data.guarantor_mobile),1)]),e("tr",null,[t[3]||(t[3]=e("td",null,"Address",-1)),e("td",Rt,f(n.data.guarantor_address),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"Father's Name",-1)),e("td",At,f(n.data.guarantor_father),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"Grandfather's Name",-1)),e("td",Bt,f(n.data.guarantor_grand_father),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Tt={class:"text-right"},Et={class:"text-right"},Pt={class:"text-right"},Mt={class:"text-right"},Lt={class:"text-right"},jt=D({__name:"TabVehicleInfo",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{fluid:""},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12",lg:"6","offset-lg":"3"},{default:o(()=>[l(T,{class:"pa-4"},{default:o(()=>[l(G,null,{default:o(()=>[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",null,"Field"),e("th",{class:"text-right"},"Value")])],-1)),e("tbody",null,[e("tr",null,[t[0]||(t[0]=e("td",null,"Vehicle",-1)),e("td",Tt,f(n.data.vehicle),1)]),e("tr",null,[t[1]||(t[1]=e("td",null,"Down Payment",-1)),e("td",Et,f(N(q)(n.data.down_payment)),1)]),e("tr",null,[t[2]||(t[2]=e("td",null,"Finance Amount",-1)),e("td",Pt,f(N(q)(n.data.finance_amount)),1)]),e("tr",null,[t[3]||(t[3]=e("td",null,"Finance Type",-1)),e("td",Mt,f(n.data.emi_type),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"Residental Status",-1)),e("td",Lt,f(n.data.residental_status),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),zt=D({__name:"TabDocuments",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{fluid:""},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12",lg:"6","offset-lg":"3"},{default:o(()=>[...t[0]||(t[0]=[e("div",null,[e("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis, quia.")],-1)])]),_:1})]),_:1})]),_:1}))}}),Ot={class:"text-right"},Gt={class:"text-right"},Wt={class:"text-right"},Ht={class:"text-right"},Kt={class:"text-right"},Jt={class:"text-right"},Qt=D({__name:"TabMerchant",props:{data:{}},setup(n){return(y,t)=>(k(),$(M,{fluid:""},{default:o(()=>[l(R,null,{default:o(()=>[l(c,{cols:"12",lg:"6","offset-lg":"3"},{default:o(()=>[l(T,{class:"pa-4"},{default:o(()=>[l(G,null,{default:o(()=>[t[6]||(t[6]=e("thead",null,[e("tr",null,[e("th",null,"Field"),e("th",{class:"text-right"},"Value")])],-1)),e("tbody",null,[e("tr",null,[t[0]||(t[0]=e("td",null,"Name",-1)),e("td",Ot,f(n.data.name),1)]),e("tr",null,[t[1]||(t[1]=e("td",null,"Email",-1)),e("td",Gt,f(N(q)(n.data.email)),1)]),e("tr",null,[t[2]||(t[2]=e("td",null,"Phone",-1)),e("td",Wt,f(N(q)(n.data.phone)),1)]),e("tr",null,[t[3]||(t[3]=e("td",null,"Stamp",-1)),e("td",Ht,f(n.data.stamp),1)]),e("tr",null,[t[4]||(t[4]=e("td",null,"Logo",-1)),e("td",Kt,f(n.data.logo),1)]),e("tr",null,[t[5]||(t[5]=e("td",null,"Signature",-1)),e("td",Jt,f(n.data.signature),1)])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Xt={class:"d-flex align-center justify-space-between mb-4"},Yt={class:"d-flex align-center gap-4"},Zt={class:"ml-4"},ea={class:"text-subtitle-1 font-weight-semibold"},la={class:"text-caption text-medium-emphasis"},ta={class:"text-caption text-medium-emphasis"},da=D({__name:"EmiRequestDetailPage",setup(n){const y=xl(),t=kl(),u={emi:ye,employment:xt,card:Ut,guarantor:qt,vehicle:jt,documents:zt,merchant:Qt},v=h("emi"),m=[{value:"emi",label:"EMI Info",icon:"mdi-cash"},{value:"documents",label:"Documents",icon:"mdi-file-document-outline"},{value:"card",label:"Card Info",icon:"mdi-credit-card-outline"},{value:"employment",label:"Employment Info",icon:"mdi-briefcase-outline"},{value:"guarantor",label:"Guarantor Info",icon:"mdi-account-tie-outline"},{value:"vehicle",label:"Vehicle Info",icon:"mdi-motorbike"}],V=I(()=>u[v.value]??ye),a=h({user:{name:"",email:"",phone:"",avatar:""},status:""}),x=I(()=>{const g=String(a.value.status??"").toLowerCase();return g==="approved"?"success":g==="pending"?"warning":g==="processing"?"info":"secondary"});async function w(){const g=String(y.params.id??"");if(g)try{const{data:d}=await Fe(g);a.value={...a.value,...d}}catch{}}function C(){t.back()}return se(w),(g,d)=>(k(),$(M,{fluid:"",class:"pa-0"},{default:o(()=>[e("div",Xt,[l(A,{variant:"text",onClick:C},{default:o(()=>[l(B,{start:""},{default:o(()=>[...d[2]||(d[2]=[F("mdi-arrow-left",-1)])]),_:1}),d[3]||(d[3]=F(" Back ",-1))]),_:1})]),l(T,{class:"pa-4 mb-4"},{default:o(()=>[e("div",Yt,[l(_l,{size:"64",rounded:""},{default:o(()=>[a.value.user?.avatar?(k(),$(H,{key:0,src:a.value?.user?.avatar,alt:"User"},null,8,["src"])):(k(),$(H,{key:1,src:"https://placehold.co/64",alt:"User"}))]),_:1}),e("div",Zt,[e("div",ea,f(a.value.user?.name??"N/A"),1),e("div",la,f(a.value.user?.email??"N/A"),1),e("div",ta,f(a.value.user?.phone??"N/A"),1)]),l(oe),l(de,{size:"small",variant:"tonal",color:x.value},{default:o(()=>[F(f(a.value.status),1)]),_:1},8,["color"])])]),_:1}),l(T,null,{default:o(()=>[l(Sl,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=i=>v.value=i),density:"comfortable","show-arrows":"",color:"primary"},{default:o(()=>[(k(),Q(J,null,Vl(m,i=>l(Il,{key:i.value,value:i.value},{default:o(()=>[l(B,{start:"",size:"16"},{default:o(()=>[F(f(i.icon),1)]),_:2},1024),F(" "+f(i.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(X,{class:"mt-0"}),l(Ul,{modelValue:v.value,"onUpdate:modelValue":d[1]||(d[1]=i=>v.value=i)},{default:o(()=>[l(Fl,{value:v.value},{default:o(()=>[(k(),$(Ce(V.value),{data:a.value},null,8,["data"]))]),_:1},8,["value"])]),_:1},8,["modelValue"])]),_:1}))}});export{da as default};

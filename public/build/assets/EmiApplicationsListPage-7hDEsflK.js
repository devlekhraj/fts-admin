import{_ as w}from"./AppDataTable.vue_vue_type_script_setup_true_lang-CI4qkRLG.js";import{l as k,f as z,a as P}from"./formatters-BRZ_vvFt.js";import{d as V,o as C,c as E,a as s,w as t,r as c,b as T,V as A,e as g,f as y,u as l,t as n,g as i,n as I,h as v,i as b}from"./main-f6v8lxU0.js";import{V as W}from"./VTable-C_VnuGSo.js";function B(a){switch(a){case"credit_card":return"mdi-credit-card-check";case"new_credit_card":return"mdi-credit-card-plus";case"citizenship":return"mdi-card-account-details";default:return"mdi-card-account-details"}}function N(a){switch(a){case"credit_card":return"info";case"new_credit_card":return"purple";case"citizenship":return"success";default:return"success"}}function U(a){switch(a){case"credit_card":return"text-info";case"new_credit_card":return"text-purple";case"citizenship":return"text-success";default:return"text-success"}}function M(a){switch(typeof a=="string"?Number(a):a){case 0:return"warning";case 1:return"blue";case 2:return"green";case 3:return"indigo";case 4:return"red";default:return"black"}}const S={class:"d-flex align-center gap-2"},D={class:"ml-3"},L={class:"d-flex align-center gap-2"},O={class:"ml-3"},R={style:{"min-width":"150px"},class:"d-flex align-center"},$={class:"text-capitalize"},G=V({__name:"EmiApplicationsListPage",setup(a){const p=[{title:"REQUEST#",key:"application_code",sortable:!1,minWidth:"120"},{title:"User",key:"user",sortable:!1,minWidth:"200"},{title:"Product",key:"product",sortable:!1,minWidth:"250"},{title:"Time",key:"time",minWidth:"160",sortable:!1},{title:"Per Month",key:"emi_per_month",minWidth:"120",sortable:!1},{title:"EMI Type",key:"emi_type",sortable:!1,minWidth:"120"},{title:"Status",key:"status_label",sortable:!1},{title:"Actions",key:"action",sortable:!1}],_=c([]),f=c(0),m=c(!1),u=c({page:1,itemsPerPage:15,sortBy:[]}),d=c(!1);async function h(){m.value=!0;try{const{data:r}=await k({page:u.value.page,per_page:u.value.itemsPerPage}),o=Array.isArray(r)?r:r?.data??[];_.value=o,f.value=r?.total??r?.meta?.total??o.length}finally{m.value=!1}}function x(r){u.value=r,d.value||(d.value=!0),h()}return C(()=>{d.value||(h(),d.value=!0)}),(r,o)=>(T(),E("div",null,[s(w,{headers:p,items:_.value,total:f.value,loading:m.value,"items-per-page":u.value.itemsPerPage,"onUpdate:options":x},{"item.user":t(({item:e})=>[i("div",S,[s(v,{size:"32"},{default:t(()=>[s(b,{src:e.user?.avatar,alt:"User"},null,8,["src"])]),_:2},1024),i("span",D,n(e.user?.name??"-"),1)])]),"item.product":t(({item:e})=>[i("div",L,[s(v,{size:"32",rounded:""},{default:t(()=>[s(b,{src:e.product?.thumb,alt:"Product"},null,8,["src"])]),_:2},1024),i("span",O,n(e.product?.name??"-"),1)])]),"item.time":t(({item:e})=>[i("span",null,n(l(P)(e.time)),1)]),"item.emi_per_month":t(({item:e})=>[i("span",null,n(l(z)(e.emi_per_month)),1)]),"item.emi_type":t(({item:e})=>[i("div",R,[s(g,{start:"",class:"mr-2",color:l(N)(e.emi_type),icon:l(B)(e.emi_type)},null,8,["color","icon"]),i("span",{class:I(["text-capitalize",l(U)(e.emi_type)]),style:{"font-weight":"500"}},n(e.emi_type?e.emi_type.split("_").join(" "):"Citizenship"),3)])]),"item.emi_mode":t(({item:e})=>[i("span",$,n(e.emi_mode??"-"),1)]),"item.status_label":t(({item:e})=>[s(W,{size:"small",color:l(M)(e.status),variant:"tonal"},{default:t(()=>[y(n(e.status_label??e.status??"-"),1)]),_:2},1032,["color"])]),"item.action":t(({item:e})=>[s(A,{variant:"tonal",color:"primary",size:"x-small",to:{name:"emi.applications.detail",params:{id:e.id}},icon:""},{default:t(()=>[s(g,null,{default:t(()=>[...o[0]||(o[0]=[y("mdi-eye",-1)])]),_:1})]),_:1},8,["to"])]),_:1},8,["items","total","loading","items-per-page"])]))}});export{G as default};

import{_ as A}from"./AppPageHeader.vue_vue_type_script_setup_true_lang-1iWpqD5k.js";import{d as C,bD as J,a as t,c as p,b as o,e as s,C as B,B as D,m as w,p as S,q as T,x as d,i as m,I as L,V as j,g as R,f as F,M as K,Q as h,r as U,E as P,t as _,R as $,A as H,H as M,K as O,L as g,aH as W,bE as N,o as G,S as Q,P as Y,U as X,J as Z,T as ee}from"./main-jtG-UPKi.js";import{V as te}from"./VSelect-Co_r_wLT.js";import{o as se}from"./modal-MMUOoy7A.js";import{g as ae}from"./errors-DCR5ytRp.js";const ne={key:1,class:"mt-1"},le={class:"w-100 d-flex align-center justify-space-between px-4 pt-2"},oe=C({__name:"SettingForm",emits:["close","saved"],setup(b,{emit:v}){const u=v,l=U(),n=U({label:"",code:"",type:"",value:""}),e={required:r=>r?!0:"Required",code:r=>{if(!r)return!0;const a=String(r);return/\s/.test(a)?"Use underscores instead of spaces":/^[a-z0-9_]+$/i.test(a)?!0:"Only letters, numbers, and underscores are allowed"}},V=["text","number","boolean","richtext"];async function c(){const r=await l.value?.validate?.();if(r&&r.valid===!1||!r&&l.value?.validate&&!await l.value.validate())return;const a={label:n.value.label,code:n.value.code,type:n.value.type,value:n.value.value};u("saved",a),u("close")}return(r,a)=>{const f=J("RichText");return t(),p(h,null,[o(L,{class:"py-6"},{default:s(()=>[o(B,{ref_key:"formRef",ref:l,onSubmit:D(c,["prevent"])},{default:s(()=>[o(w,null,{default:s(()=>[o(S,{cols:"12",md:"6",class:"pb-0"},{default:s(()=>[o(T,{modelValue:n.value.label,"onUpdate:modelValue":a[0]||(a[0]=y=>n.value.label=y),label:"Label",variant:"outlined",density:"comfortable",rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),o(S,{cols:"12",md:"6",class:"pb-0"},{default:s(()=>[o(T,{modelValue:n.value.code,"onUpdate:modelValue":a[1]||(a[1]=y=>n.value.code=y),label:"Code",variant:"outlined",density:"comfortable",rules:[e.required,e.code]},null,8,["modelValue","rules"])]),_:1}),o(S,{cols:"12",md:"6",class:"pb-0"},{default:s(()=>[o(te,{modelValue:n.value.type,"onUpdate:modelValue":a[2]||(a[2]=y=>n.value.type=y),items:V,label:"Type",variant:"outlined",density:"comfortable",rules:[e.required]},null,8,["modelValue","rules"])]),_:1}),o(S,{cols:"12",class:"pb-0"},{default:s(()=>[n.value.type!=="richtext"?(t(),d(T,{key:0,modelValue:n.value.value,"onUpdate:modelValue":a[3]||(a[3]=y=>n.value.value=y),label:"Value",variant:"outlined",density:"comfortable",rules:[e.required]},null,8,["modelValue","rules"])):(t(),p("div",ne,[a[6]||(a[6]=m("div",{class:"text-body-2 text-medium-emphasis mb-1"},"Value",-1)),o(f,{modelValue:n.value.value,"onUpdate:modelValue":a[4]||(a[4]=y=>n.value.value=y)},null,8,["modelValue"])]))]),_:1})]),_:1})]),_:1},512)]),_:1}),o(K,{class:"pb-4"},{default:s(()=>[m("div",le,[o(j,{variant:"text",color:"secondary",onClick:a[5]||(a[5]=y=>u("close"))},{default:s(()=>[...a[7]||(a[7]=[R("Cancel",-1)])]),_:1}),o(j,{color:"primary",variant:"tonal",class:"px-5",onClick:c},{default:s(()=>[o(F,{start:""},{default:s(()=>[...a[8]||(a[8]=[R("mdi-content-save-outline",-1)])]),_:1}),a[9]||(a[9]=R(" Save ",-1))]),_:1})])]),_:1})],64)}}}),ie=C({__name:"SettingsActions",emits:["saved"],setup(b,{emit:v}){const u=v;function l(){se(oe,{},{title:"Add Setting",size:"lg",onSaved:n=>{u("saved",n)}})}return(n,e)=>(t(),d(j,{color:"primary",onClick:l},{default:s(()=>[...e[0]||(e[0]=[R("Add Setting",-1)])]),_:1}))}});function re(){return P.get("/admin/settings")}const ue={class:"text-medium-emphasis mb-3"},de={key:0},me={key:1,class:"text-medium-emphasis"},ce=C({__name:"TabCore",props:{data:{}},setup(b){const v=b,u=g(()=>v.data.find(i=>i.module==="core")),l=g(()=>Object.entries(u.value?.settings??{})),n=g(()=>l.value.find(([i])=>i==="description")),e=new Set(["email","contact_number"]),V=new Set(["social_facebook","social_twitter","social_instagram","social_linkedin","social_google","social_youtube"]),c=new Set(["meta_title","meta_keywords","meta_description"]),r=g(()=>l.value.filter(([i])=>e.has(i))),a=g(()=>l.value.filter(([i])=>V.has(i))),f=g(()=>l.value.filter(([i])=>c.has(i))),y=g(()=>l.value.filter(([i])=>i!=="description"&&!e.has(i)&&!V.has(i)&&!c.has(i)));function q(i){return{social_facebook:"Facebook",social_twitter:"Twitter",social_instagram:"Instagram",social_linkedin:"Linkedin",social_google:"Google",social_youtube:"Youtube"}[i]??i}function z(i){return{meta_title:"Meta Title",meta_keywords:"Meta Keywords",meta_description:"Meta Description"}[i]??i}function I(i){if(i==null)return"-";if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return String(i);try{return JSON.stringify(i)}catch{return String(i)}}return(i,k)=>(t(),d(O,{class:"pa-4",variant:"flat"},{default:s(()=>[m("div",ue," Updated: "+_(u.value?.updated_at??"-"),1),l.value.length?(t(),p("div",de,[y.value.length?(t(),d(w,{key:0},{default:s(()=>[(t(!0),p(h,null,$(y.value,([x,E])=>(t(),d(S,{key:x,cols:"12",md:"6"},{default:s(()=>[o(T,{label:x,"model-value":I(E),density:"comfortable",variant:"outlined"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1})):H("",!0),o(M,{class:"my-4"}),k[0]||(k[0]=m("div",{class:"text-medium-emphasis mb-2"},"Contact",-1)),o(w,null,{default:s(()=>[(t(!0),p(h,null,$(r.value,([x,E])=>(t(),d(S,{key:x,cols:"12",md:"6"},{default:s(()=>[o(T,{label:x,"model-value":I(E),density:"comfortable",variant:"outlined"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1}),o(M,{class:"my-4"}),k[1]||(k[1]=m("div",{class:"text-medium-emphasis mb-2"},"Social",-1)),o(w,null,{default:s(()=>[(t(!0),p(h,null,$(a.value,([x,E])=>(t(),d(S,{key:x,cols:"12",md:"6"},{default:s(()=>[o(T,{label:q(x),"model-value":I(E),density:"comfortable",variant:"outlined"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1}),o(M,{class:"my-4"}),k[2]||(k[2]=m("div",{class:"text-medium-emphasis mb-2"},"Public SEO",-1)),o(w,null,{default:s(()=>[(t(!0),p(h,null,$(f.value,([x,E])=>(t(),d(S,{key:x,cols:"12",md:"6"},{default:s(()=>[o(T,{label:z(x),"model-value":I(E),density:"comfortable",variant:"outlined"},null,8,["label","model-value"])]),_:2},1024))),128))]),_:1}),o(M,{class:"my-4"}),k[3]||(k[3]=m("div",{class:"text-medium-emphasis mb-2"},"Description",-1)),m("div",null,_(n.value?I(n.value[1]):"-"),1)])):(t(),p("div",me,"No settings found."))]),_:1}))}}),fe={class:"text-medium-emphasis mb-3"},pe={class:"text-medium-emphasis",style:{"font-size":"0.8rem"}},_e={class:"mt-1"},ve={key:1,class:"text-medium-emphasis"},ge=C({__name:"TabCustomScript",props:{data:{}},setup(b){const v=b,u=g(()=>v.data.find(e=>e.module==="custom_scripts")),l=g(()=>Object.entries(u.value?.settings??{}));function n(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);try{return JSON.stringify(e)}catch{return String(e)}}return(e,V)=>(t(),d(O,{class:"pa-4",variant:"flat"},{default:s(()=>[m("div",fe," Updated: "+_(u.value?.updated_at??"-"),1),l.value.length?(t(),d(w,{key:0},{default:s(()=>[(t(!0),p(h,null,$(l.value,([c,r])=>(t(),d(S,{key:c,cols:"12"},{default:s(()=>[m("div",pe,_(c),1),m("div",_e,_(n(r)),1)]),_:2},1024))),128))]),_:1})):(t(),p("div",ve,"No settings found."))]),_:1}))}}),be={class:"text-medium-emphasis mb-3"},ye={class:"text-medium-emphasis",style:{"font-size":"0.8rem"}},Se={class:"mt-1"},he={key:1,class:"text-medium-emphasis"},Ve=C({__name:"TabEcommerce",props:{data:{}},setup(b){const v=b,u=g(()=>v.data.find(e=>e.module==="ecommerce")),l=g(()=>Object.entries(u.value?.settings??{}));function n(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);try{return JSON.stringify(e)}catch{return String(e)}}return(e,V)=>(t(),d(O,{class:"pa-4",variant:"flat"},{default:s(()=>[m("div",be," Updated: "+_(u.value?.updated_at??"-"),1),l.value.length?(t(),d(w,{key:0},{default:s(()=>[(t(!0),p(h,null,$(l.value,([c,r])=>(t(),d(S,{key:c,cols:"12",md:"6"},{default:s(()=>[m("div",ye,_(c),1),m("div",Se,_(n(r)),1)]),_:2},1024))),128))]),_:1})):(t(),p("div",he,"No settings found."))]),_:1}))}}),xe={class:"text-medium-emphasis mb-3"},$e={class:"text-medium-emphasis",style:{"font-size":"0.8rem"}},ke={class:"mt-1"},we={key:1,class:"text-medium-emphasis"},Ce=C({__name:"TabEmailSettings",props:{data:{}},setup(b){const v=b,u=g(()=>v.data.find(e=>e.module==="email_settings")),l=g(()=>Object.entries(u.value?.settings??{}));function n(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);try{return JSON.stringify(e)}catch{return String(e)}}return(e,V)=>(t(),d(O,{class:"pa-4",variant:"flat"},{default:s(()=>[m("div",xe," Updated: "+_(u.value?.updated_at??"-"),1),l.value.length?(t(),d(w,{key:0},{default:s(()=>[(t(!0),p(h,null,$(l.value,([c,r])=>(t(),d(S,{key:c,cols:"12",md:"6"},{default:s(()=>[m("div",$e,_(c),1),m("div",ke,_(n(r)),1)]),_:2},1024))),128))]),_:1})):(t(),p("div",we,"No settings found."))]),_:1}))}}),Ee={class:"text-medium-emphasis mb-3"},Te={class:"text-medium-emphasis",style:{"font-size":"0.8rem"}},Ne={class:"mt-1"},Ue={key:1,class:"text-medium-emphasis"},Oe=C({__name:"TabSmsSettings",props:{data:{}},setup(b){const v=b,u=g(()=>v.data.find(e=>e.module==="sms_settings")),l=g(()=>Object.entries(u.value?.settings??{}));function n(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);try{return JSON.stringify(e)}catch{return String(e)}}return(e,V)=>(t(),d(O,{class:"pa-4",variant:"flat"},{default:s(()=>[m("div",Ee," Updated: "+_(u.value?.updated_at??"-"),1),l.value.length?(t(),d(w,{key:0},{default:s(()=>[(t(!0),p(h,null,$(l.value,([c,r])=>(t(),d(S,{key:c,cols:"12",md:"6"},{default:s(()=>[m("div",Te,_(c),1),m("div",Ne,_(n(r)),1)]),_:2},1024))),128))]),_:1})):(t(),p("div",Ue,"No settings found."))]),_:1}))}}),Ie={class:"text-medium-emphasis mb-3"},Me={class:"text-medium-emphasis",style:{"font-size":"0.8rem"}},Re={class:"mt-1"},je={key:1,class:"text-medium-emphasis"},qe=C({__name:"TabSocialSettings",props:{data:{}},setup(b){const v=b,u=g(()=>v.data.find(e=>e.module==="social_settings")),l=g(()=>Object.entries(u.value?.settings??{}));function n(e){if(e==null)return"-";if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return String(e);try{return JSON.stringify(e)}catch{return String(e)}}return(e,V)=>(t(),d(O,{class:"pa-4",variant:"flat"},{default:s(()=>[m("div",Ie," Updated: "+_(u.value?.updated_at??"-"),1),l.value.length?(t(),d(w,{key:0},{default:s(()=>[(t(!0),p(h,null,$(l.value,([c,r])=>(t(),d(S,{key:c,cols:"12",md:"6"},{default:s(()=>[m("div",Me,_(c),1),m("div",Re,_(n(r)),1)]),_:2},1024))),128))]),_:1})):(t(),p("div",je,"No settings found."))]),_:1}))}}),Le=C({__name:"SettingsPage",setup(b){const v=W(),u=U(!1),l=U([]),n=U([]),e=U(""),V={core:N(ce),custom_scripts:N(ge),ecommerce:N(Ve),email_settings:N(Ce),sms_settings:N(Oe),social_settings:N(qe)};async function c(){u.value=!0;try{const{data:r}=await re(),a=Array.isArray(r)?r:r?.data??[];l.value=a,n.value=a.map(f=>({id:f.id,name:f.name,module:f.module,component:f.module?V[f.module]:null})),!e.value&&l.value.length>0&&(e.value=String(l.value[0].module??""))}catch(r){const a=ae(r);v.show({message:a,color:"error"})}finally{u.value=!1}}return G(c),(r,a)=>(t(),p(h,null,[o(A,{title:"Settings",subtitle:"System settings"},{actions:s(()=>[o(ie)]),_:1}),o(Y,{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=f=>e.value=f),density:"compact"},{default:s(()=>[(t(!0),p(h,null,$(n.value,f=>(t(),d(Q,{key:f.id,color:"primary",value:f.module},{default:s(()=>[R(_(f.name||"Unnamed Module"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),o(M),o(ee,{modelValue:e.value,"onUpdate:modelValue":a[1]||(a[1]=f=>e.value=f)},{default:s(()=>[(t(!0),p(h,null,$(n.value,f=>(t(),d(X,{key:f.id,value:f.module},{default:s(()=>[(t(),d(Z(f.component),{data:l.value},null,8,["data"]))]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])],64))}});export{Le as default};

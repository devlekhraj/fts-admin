import{W as V,aU as j,bq as X,a3 as k,b as o,br as Y,ac as h,bs as Z,bc as R,y as F,bt as ee,i as d,aE as C,n as g,bu as z,bj as U,aF as q,L as _,aG as s,bv as ae,b4 as D,bw as ne,f as T,bx as te,by as se,b7 as H,b9 as le,bz as oe,ba as ie,bA as de,aL as ce,bB as ue,b1 as re,aK as ve,b6 as pe,bo as xe,bC as me,d as fe,aH as be,o as ye,a as f,x as S,e as p,c as y,Q as L,R as N,t as I,V as $,B as G,g as w,h as ge,A as Pe,r as M,_ as _e}from"./main-jtG-UPKi.js";import{l as Ve}from"./roles.api-CzHcYPMY.js";import{g as ke}from"./errors-DCR5ytRp.js";const P=Symbol.for("vuetify:v-expansion-panel"),K=h({...R(),...Z()},"VExpansionPanelText"),B=V()({name:"VExpansionPanelText",props:K(),setup(e,c){let{slots:n}=c;const a=j(P);if(!a)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:v}=X(e,a.isSelected);return k(()=>o(Y,{onAfterLeave:v},{default:()=>[F(d("div",{class:g(["v-expansion-panel-text",e.class]),style:C(e.style)},[n.default&&r.value&&d("div",{class:"v-expansion-panel-text__wrapper"},[n.default?.()])]),[[ee,a.isSelected.value]])]})),{}}}),O=h({color:String,expandIcon:{type:D,default:"$expand"},collapseIcon:{type:D,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...R(),...ne()},"VExpansionPanelTitle"),A=V()({name:"VExpansionPanelTitle",directives:{vRipple:z},props:O(),setup(e,c){let{slots:n}=c;const a=j(P);if(!a)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:v}=U(()=>e.color),{dimensionStyles:b}=ae(e),i=_(()=>({collapseIcon:e.collapseIcon,disabled:a.disabled.value,expanded:a.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),t=s(()=>a.isSelected.value?e.collapseIcon:e.expandIcon);return k(()=>F(d("button",{class:g(["v-expansion-panel-title",{"v-expansion-panel-title--active":a.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class]),style:C([v.value,b.value,e.style]),type:"button",tabindex:a.disabled.value?-1:void 0,disabled:a.disabled.value,"aria-expanded":a.isSelected.value,onClick:e.readonly?void 0:a.toggle},[d("span",{class:"v-expansion-panel-title__overlay"},null),n.default?.(i.value),!e.hideActions&&o(q,{defaults:{VIcon:{icon:t.value}}},{default:()=>[d("span",{class:"v-expansion-panel-title__icon"},[n.actions?.(i.value)??o(T,null,null)])]})]),[[z,e.ripple]])),{}}}),Q=h({title:String,text:String,bgColor:String,...ie(),...oe(),...le(),...H(),...O(),...K()},"VExpansionPanel"),he=V()({name:"VExpansionPanel",props:Q(),emits:{"group:selected":e=>!0},setup(e,c){let{slots:n}=c;const a=te(e,P),{backgroundColorClasses:r,backgroundColorStyles:v}=U(()=>e.bgColor),{elevationClasses:b}=de(e),{roundedClasses:i}=se(e),t=s(()=>a?.disabled.value||e.disabled),l=_(()=>a.group.items.value.reduce((m,u,E)=>(a.group.selected.value.includes(u.id)&&m.push(E),m),[])),x=_(()=>{const m=a.group.items.value.findIndex(u=>u.id===a.id);return!a.isSelected.value&&l.value.some(u=>u-m===1)}),W=_(()=>{const m=a.group.items.value.findIndex(u=>u.id===a.id);return!a.isSelected.value&&l.value.some(u=>u-m===-1)});return ce(P,a),k(()=>{const m=!!(n.text||e.text),u=!!(n.title||e.title),E=A.filterProps(e),J=B.filterProps(e);return o(e.tag,{class:g(["v-expansion-panel",{"v-expansion-panel--active":a.isSelected.value,"v-expansion-panel--before-active":x.value,"v-expansion-panel--after-active":W.value,"v-expansion-panel--disabled":t.value},i.value,r.value,e.class]),style:C([v.value,e.style])},{default:()=>[d("div",{class:g(["v-expansion-panel__shadow",...b.value])},null),o(q,{defaults:{VExpansionPanelTitle:{...E},VExpansionPanelText:{...J}}},{default:()=>[u&&o(A,{key:"title"},{default:()=>[n.title?n.title():e.title]}),m&&o(B,{key:"text"},{default:()=>[n.text?n.text():e.text]}),n.default?.()]})]})}),{groupItem:a}}}),Ce=["default","accordion","inset","popout"],Ee=h({flat:Boolean,...me(),...xe(Q(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...pe(),...R(),...H(),variant:{type:String,default:"default",validator:e=>Ce.includes(e)}},"VExpansionPanels"),Se=V()({name:"VExpansionPanels",props:Ee(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:n}=c;const{next:a,prev:r}=ue(e,P),{themeClasses:v}=re(e),b=s(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ve({VExpansionPanel:{bgColor:s(()=>e.bgColor),collapseIcon:s(()=>e.collapseIcon),color:s(()=>e.color),eager:s(()=>e.eager),elevation:s(()=>e.elevation),expandIcon:s(()=>e.expandIcon),focusable:s(()=>e.focusable),hideActions:s(()=>e.hideActions),readonly:s(()=>e.readonly),ripple:s(()=>e.ripple),rounded:s(()=>e.rounded),static:s(()=>e.static)}}),k(()=>o(e.tag,{class:g(["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},v.value,b.value,e.class]),style:C(e.style)},{default:()=>[n.default?.({prev:r,next:a})]})),{next:a,prev:r}}}),Ie={class:"d-flex align-center justify-space-between w-100"},we={class:"d-flex align-center"},Te={class:"text-capitalize text-primary"},Be={class:"text-medium-emphasis ml-2"},Ae={class:"d-flex align-center"},Re={key:0,class:"d-flex flex-wrap gap-2"},ze={key:1,class:"text-medium-emphasis"},De={key:0,class:"text-medium-emphasis pa-2"},Le=fe({__name:"RoleManagementPage",setup(e){const c=be(),n=M([]),a=M([]);async function r(){try{const{data:i}=await Ve(),t=Array.isArray(i)?i:i?.data??[];n.value=t,a.value=n.value.map((l,x)=>x)}catch(i){const t=ke(i);c.show({message:t,color:"error"})}}ye(()=>{r()});function v(i){c.show({message:"Edit role not implemented yet.",color:"info"})}function b(i){c.show({message:"Delete role not implemented yet.",color:"info"})}return(i,t)=>(f(),S(Se,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value=l),multiple:"",elevation:"0"},{default:p(()=>[(f(!0),y(L,null,N(n.value,l=>(f(),S(he,{key:l.id??l.name??"unknown-role"},{default:p(()=>[o(A,null,{default:p(()=>[d("div",Ie,[d("div",we,[d("h4",Te,I(l.name??"-"),1),d("span",Be,"Permissions: "+I(l.permissions?.length??0),1)]),d("div",Ae,[o($,{icon:"",variant:"tonal",size:"x-small",color:"primary",class:"mr-2",onClick:G(x=>v(l),["stop"])},{default:p(()=>[o(T,{size:"16"},{default:p(()=>[...t[1]||(t[1]=[w("mdi-cog",-1)])]),_:1})]),_:1},8,["onClick"]),o($,{icon:"",variant:"tonal",color:"error",size:"x-small",onClick:G(x=>b(l),["stop"])},{default:p(()=>[o(T,{size:"16"},{default:p(()=>[...t[2]||(t[2]=[w("mdi-delete",-1)])]),_:1})]),_:1},8,["onClick"])])])]),_:2},1024),o(B,null,{default:p(()=>[t[3]||(t[3]=d("div",{class:"text-medium-emphasis mb-2"},"Permissions",-1)),l.permissions?.length?(f(),y("div",Re,[(f(!0),y(L,null,N(l.permissions,x=>(f(),S(ge,{key:x,color:"primary",size:"small",variant:"tonal",class:"text-uppercase font-bold-medium mr-2 mb-2",label:""},{default:p(()=>[w(I(x),1)]),_:2},1024))),128))])):(f(),y("div",ze,"No permissions found."))]),_:2},1024)]),_:2},1024))),128)),n.value.length?Pe("",!0):(f(),y("div",De,"No roles found."))]),_:1},8,["modelValue"]))}}),Me=_e(Le,[["__scopeId","data-v-cafcad71"]]);export{Me as default};

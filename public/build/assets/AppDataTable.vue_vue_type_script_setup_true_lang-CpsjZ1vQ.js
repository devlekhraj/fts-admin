import{v as _,b1 as ee,az as ae,B as te,P as se,a as n,H as h,q as oe,J as r,s as u,h as p,a1 as le,F as B,ao as re,d as ne,T as V,b as v,a4 as w,e as x,b2 as de,b3 as k,W as ie,b4 as ue,aE as ce,b5 as me,b6 as ge}from"./main-CFOSRcoW.js";import{n as pe,o as ve,p as be,q as Pe,r as fe,s as he,t as ye,v as Se,w as C,x as F,y as H,c as I,z as De,A as Te,B as Be,C as Ve,D as we,E as xe,F as ke}from"./VDataTable-Dq5dtipc.js";const Ce=oe({itemsLength:{type:[Number,String],required:!0},...Be(),...Te(),...De()},"VDataTableServer"),Fe=_()({name:"VDataTableServer",props:Ce(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,c){let{attrs:b,slots:a}=c;const{groupBy:t}=pe(e),{initialSortOrder:l,sortBy:s,multiSort:d,mustSort:i}=ve(e),{page:m,itemsPerPage:P}=be(e),{disableSort:R}=ee(e),E=u(()=>parseInt(e.itemsLength,10)),{columns:y,headers:$}=Pe(e,{groupBy:t,showSelect:r(()=>e.showSelect),showExpand:r(()=>e.showExpand)}),{items:g}=xe(e,y),{toggleSort:S}=Ve({initialSortOrder:l,sortBy:s,multiSort:d,mustSort:i,page:m}),{opened:G,isGroupOpen:N,toggleGroup:z,extractRows:L}=we({groupBy:t,sortBy:s,disableSort:R}),{pageCount:W,setItemsPerPage:q}=fe({page:m,itemsPerPage:P,itemsLength:E}),{flatItems:D}=ke(g,t,G,()=>!!a["group-summary"]),{isSelected:A,select:O,selectAll:j,toggleSelect:J,someSelected:M,allSelected:U}=he(e,{allItems:g,currentPage:g}),{isExpanded:K,toggleExpand:Q}=ye(e),T=u(()=>L(g.value));Se({page:m,itemsPerPage:P,sortBy:s,groupBy:t,search:r(()=>e.search)}),re("v-data-table",{toggleSort:S,sortBy:s}),ae({VDataTableRows:{hideNoData:r(()=>e.hideNoData),noDataText:r(()=>e.noDataText),loading:r(()=>e.loading),loadingText:r(()=>e.loadingText)}});const o=u(()=>({page:m.value,itemsPerPage:P.value,sortBy:s.value,pageCount:W.value,toggleSort:S,setItemsPerPage:q,someSelected:M.value,allSelected:U.value,isSelected:A,select:O,selectAll:j,toggleSelect:J,isExpanded:K,toggleExpand:Q,isGroupOpen:N,toggleGroup:z,items:T.value.map(f=>f.raw),internalItems:T.value,groupedItems:D.value,columns:y.value,headers:$.value}));te(()=>{const f=C.filterProps(e),X=F.filterProps(se(e,["multiSort"])),Y=H.filterProps(e),Z=I.filterProps(e);return n(I,h({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(o.value),default:()=>a.default?a.default(o.value):p(B,null,[a.colgroup?.(o.value),!e.hideDefaultHeader&&p("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[n(F,h(X,{multiSort:!!e.multiSort}),a)]),a.thead?.(o.value),!e.hideDefaultBody&&p("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(o.value),a.body?a.body(o.value):n(H,h(b,Y,{items:D.value}),a),a["body.append"]?.(o.value)]),a.tbody?.(o.value),a.tfoot?.(o.value)]),bottom:()=>a.bottom?a.bottom(o.value):!e.hideDefaultFooter&&p(B,null,[n(le,null,null),n(C,f,{prepend:a["footer.prepend"]})])})})}}),Re=ne({__name:"AppDataTable",props:{title:{},headers:{},items:{},total:{},loading:{type:Boolean,default:!1},search:{default:""},searchable:{type:Boolean,default:!0},itemsPerPage:{default:10}},emits:["update:options"],setup(e){const c=e,b=u({get:()=>c.search??"",set:()=>{}}),a=u(()=>c.headers.map(t=>{const l=t.minWidth??t.width;if(!l)return t;const s=`min-width: ${typeof l=="number"?`${l}px`:l};`,d={...t.headerProps??{},style:[t.headerProps?.style,s].filter(Boolean).join(" ")},i={...t.cellProps??{},style:[t.cellProps?.style,s].filter(Boolean).join(" ")};return{...t,headerProps:d,cellProps:i}}));return(t,l)=>(x(),V(w,{class:"elevation-0"},{default:v(()=>[e.title||t.$slots.actions?(x(),V(de,{key:0,flat:""},{default:v(()=>[n(w,{class:"w-100",flat:""},{default:v(()=>[k(t.$slots,"actions")]),_:3})]),_:3})):ie("",!0),n(Fe,{headers:a.value,items:e.items,"items-length":e.total,loading:e.loading,search:b.value,"items-per-page":e.itemsPerPage,"onUpdate:options":l[0]||(l[0]=s=>t.$emit("update:options",s))},ue({_:2},[ce(t.$slots,(s,d)=>({name:d,fn:v(i=>[k(t.$slots,d,me(ge(i)))])}))]),1032,["headers","items","items-length","loading","search","items-per-page"])]),_:3}))}});export{Re as _};

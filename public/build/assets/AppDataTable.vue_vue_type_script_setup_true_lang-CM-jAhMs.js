import{W as _,aJ as ee,aK as ae,a3 as te,ae as se,b as n,a7 as h,ac as oe,aG as r,i as p,H as le,Q as V,L as u,aL as re,d as ne,a as B,x as w,e as v,aM as de,K as x,aN as k,A as ie,aO as ue,R as ce,aP as me,aQ as ge}from"./main-jtG-UPKi.js";import{c as pe,b as ve,d as be,e as Pe,p as fe,f as he,g as ye,i as Se,j as R,k as H,l as I,a as C,n as De,o as Te,q as Ve,r as Be,s as we,t as xe,v as ke}from"./VDataTable-CJVTAZds.js";const Re=oe({itemsLength:{type:[Number,String],required:!0},...Ve(),...Te(),...De()},"VDataTableServer"),He=_()({name:"VDataTableServer",props:Re(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,c){let{attrs:b,slots:a}=c;const{groupBy:t}=pe(e),{initialSortOrder:l,sortBy:s,multiSort:d,mustSort:i}=ve(e),{page:m,itemsPerPage:P}=be(e),{disableSort:G}=ee(e),N=u(()=>parseInt(e.itemsLength,10)),{columns:y,headers:$}=Pe(e,{groupBy:t,showSelect:r(()=>e.showSelect),showExpand:r(()=>e.showExpand)}),{items:g}=xe(e,y),{toggleSort:S}=Be({initialSortOrder:l,sortBy:s,multiSort:d,mustSort:i,page:m}),{opened:F,isGroupOpen:L,toggleGroup:E,extractRows:O}=we({groupBy:t,sortBy:s,disableSort:G}),{pageCount:W,setItemsPerPage:j}=fe({page:m,itemsPerPage:P,itemsLength:N}),{flatItems:D}=ke(g,t,F,()=>!!a["group-summary"]),{isSelected:A,select:q,selectAll:z,toggleSelect:K,someSelected:M,allSelected:Q}=he(e,{allItems:g,currentPage:g}),{isExpanded:J,toggleExpand:U}=ye(e),T=u(()=>O(g.value));Se({page:m,itemsPerPage:P,sortBy:s,groupBy:t,search:r(()=>e.search)}),re("v-data-table",{toggleSort:S,sortBy:s}),ae({VDataTableRows:{hideNoData:r(()=>e.hideNoData),noDataText:r(()=>e.noDataText),loading:r(()=>e.loading),loadingText:r(()=>e.loadingText)}});const o=u(()=>({page:m.value,itemsPerPage:P.value,sortBy:s.value,pageCount:W.value,toggleSort:S,setItemsPerPage:j,someSelected:M.value,allSelected:Q.value,isSelected:A,select:q,selectAll:z,toggleSelect:K,isExpanded:J,toggleExpand:U,isGroupOpen:L,toggleGroup:E,items:T.value.map(f=>f.raw),internalItems:T.value,groupedItems:D.value,columns:y.value,headers:$.value}));te(()=>{const f=R.filterProps(e),X=H.filterProps(se(e,["multiSort"])),Y=I.filterProps(e),Z=C.filterProps(e);return n(C,h({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Z,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(o.value),default:()=>a.default?a.default(o.value):p(V,null,[a.colgroup?.(o.value),!e.hideDefaultHeader&&p("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[n(H,h(X,{multiSort:!!e.multiSort}),a)]),a.thead?.(o.value),!e.hideDefaultBody&&p("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a["body.prepend"]?.(o.value),a.body?a.body(o.value):n(I,h(b,Y,{items:D.value}),a),a["body.append"]?.(o.value)]),a.tbody?.(o.value),a.tfoot?.(o.value)]),bottom:()=>a.bottom?a.bottom(o.value):!e.hideDefaultFooter&&p(V,null,[n(le,null,null),n(R,f,{prepend:a["footer.prepend"]})])})})}}),Ge=ne({__name:"AppDataTable",props:{title:{},headers:{},items:{},total:{},loading:{type:Boolean,default:!1},search:{default:""},searchable:{type:Boolean,default:!0},itemsPerPage:{default:10}},emits:["update:options"],setup(e){const c=e,b=u({get:()=>c.search??"",set:()=>{}}),a=u(()=>c.headers.map(t=>{const l=t.minWidth??t.width;if(!l)return t;const s=`min-width: ${typeof l=="number"?`${l}px`:l};`,d={...t.headerProps??{},style:[t.headerProps?.style,s].filter(Boolean).join(" ")},i={...t.cellProps??{},style:[t.cellProps?.style,s].filter(Boolean).join(" ")};return{...t,headerProps:d,cellProps:i}}));return(t,l)=>(B(),w(x,{class:"elevation-0"},{default:v(()=>[e.title||t.$slots.actions?(B(),w(de,{key:0,flat:""},{default:v(()=>[n(x,{class:"w-100",flat:""},{default:v(()=>[k(t.$slots,"actions")]),_:3})]),_:3})):ie("",!0),n(He,{headers:a.value,items:e.items,"items-length":e.total,loading:e.loading,search:b.value,"items-per-page":e.itemsPerPage,"onUpdate:options":l[0]||(l[0]=s=>t.$emit("update:options",s))},ue({_:2},[ce(t.$slots,(s,d)=>({name:d,fn:v(i=>[k(t.$slots,d,me(ge(i)))])}))]),1032,["headers","items","items-length","loading","search","items-per-page"])]),_:3}))}});export{Ge as _};
